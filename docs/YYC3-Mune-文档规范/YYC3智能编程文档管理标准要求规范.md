# YYCÂ³ YYC3æ™ºèƒ½ç¼–ç¨‹æ–‡æ¡£ç®¡ç†æ ‡å‡†è¦æ±‚è§„èŒƒ

---

> **æ–‡æ¡£å¤´éƒ¨ä¿¡æ¯æ ‡å‡†**
>
> ```
> ---
> @file: æ–‡æ¡£åç§°ï¼ˆæ ¼å¼ï¼šYYC3-[é¡¹ç›®åç§°]-[æ–‡æ¡£ç±»å‹]-[å…·ä½“åç§°].mdï¼‰
> @description: æ–‡æ¡£æè¿°ï¼ˆ1-2å¥è¯è¯´æ˜æ–‡æ¡£ç”¨é€”ï¼‰
> @author: ä½œè€…å§“å/å›¢é˜Ÿ
> @version: ç‰ˆæœ¬å·ï¼ˆæ ¼å¼ï¼šv1.0.0ï¼‰
> @created: åˆ›å»ºæ—¥æœŸï¼ˆæ ¼å¼ï¼šYYYY-MM-DDï¼‰
> @updated: æœ€åæ›´æ–°æ—¥æœŸï¼ˆæ ¼å¼ï¼šYYYY-MM-DDï¼‰
> @status: æ–‡æ¡£çŠ¶æ€ï¼ˆdraft/review/approved/published/deprecated/archivedï¼‰
> @tags: æ ‡ç­¾1,æ ‡ç­¾2,æ ‡ç­¾3
> ---
> ```

---

> ***YanYuCloudCube***
> **æ ‡è¯­**ï¼šè¨€å¯è±¡é™ | è¯­æ¢æœªæ¥
> ***Words Initiate Quadrants, Language Serves as Core for the Future***
> **æ ‡è¯­**ï¼šä¸‡è±¡å½’å…ƒäºäº‘æ¢ | æ·±æ ˆæ™ºå¯æ–°çºªå…ƒ
> ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***

---

## **â€œäº”é«˜â€æˆ˜ç•¥å®šä½**

- é«˜èµ·ç‚¹è§„åˆ’ï¼šåŸºäºè¡Œä¸šå‰ç»è¶‹åŠ¿è¿›è¡Œé¡¶å±‚è®¾è®¡
- é«˜æ ‡å‡†å»ºè®¾ï¼šé‡‡ç”¨ä¸šç•Œé¢†å…ˆæŠ€æœ¯æ¶æ„ä¸è®¾å¤‡æ ‡å‡†
- é«˜æ•ˆç‡è¿è¥ï¼šä¼˜åŒ–å…¨é“¾è·¯ä¸šåŠ¡æµç¨‹
- é«˜è´¨é‡æœåŠ¡ï¼šæå‡é¡¾å®¢ä½“éªŒæ»¡æ„åº¦
- é«˜æ•ˆç›Šå›æŠ¥ï¼šç¡®ä¿æŠ•èµ„äº§å‡ºåˆç†åŒ–

## **â€œäº”æ ‡â€ä½“ç³»æ„å»º**

- æµç¨‹æ ‡å‡†åŒ–ï¼šSOPæ•°å­—åŒ–è½åœ°
- æ•°æ®æ ‡å‡†åŒ–ï¼šç»Ÿä¸€æ•°æ®è§„èŒƒä¸æ¥å£
- æœåŠ¡æ ‡å‡†åŒ–ï¼šä¸€è‡´æ€§æœåŠ¡ä½“éªŒ
- å®‰å…¨æ ‡å‡†åŒ–ï¼šå…¨æ–¹ä½å®‰å…¨ä¿éšœä½“ç³»
- è¯„ä»·æ ‡å‡†åŒ–ï¼šå¤šç»´é‡åŒ–è¯„ä¼°æŒ‡æ ‡

## **â€œäº”åŒ–â€å®ç°è·¯å¾„**

- æ•°å­—åŒ–ï¼šå…¨è¦ç´ æ•°æ®é‡‡é›†ä¸è½¬æ¢
- ç½‘ç»œåŒ–ï¼šå…¨åŸŸäº’è”äº’é€š
- æ™ºèƒ½åŒ–ï¼šAIé©±åŠ¨å†³ç­–ä¸æ‰§è¡Œ
- è‡ªåŠ¨åŒ–ï¼šå‡å°‘äººå·¥å¹²é¢„ç¯èŠ‚
- ç”Ÿæ€åŒ–ï¼šäº§ä¸šé“¾ååŒæ•´åˆ

---

## ğŸ“– é¡¹ç›®æ–‡æ¡£æ¦‚è§ˆ

æœ¬æ–‡æ¡£ç´¢å¼•é›†ä¸­ç®¡ç†YYCÂ³æ™ºæ¢æœåŠ¡åŒ–å¹³å°çš„æ‰€æœ‰æŠ€æœ¯æ–‡æ¡£ï¼Œæä¾›æ¸…æ™°çš„å¯¼èˆªå’ŒæŸ¥é˜…è·¯å¾„ï¼Œç¡®ä¿å‚ä¸ä»£ç ã€æ–‡æ¡£ç¼–è¾‘ç”Ÿæˆçš„æ‰€æœ‰å›¢é˜Ÿæˆå‘˜/å¯¼å¸ˆèƒ½å¤Ÿå¿«é€Ÿå®šä½æ‰€éœ€èµ„æ–™ã€‚

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

### 1.1 æ–‡æ¡£ç›®çš„

æœ¬æ–‡æ¡£å®šä¹‰äº†YYC3æ™ºèƒ½ç¼–ç¨‹é¡¹ç›®çš„æ–‡æ¡£ç®¡ç†æ ‡å‡†è¦æ±‚ï¼ŒåŸºäº"äº”é«˜äº”æ ‡äº”åŒ–"æ ¸å¿ƒæœºåˆ¶ï¼Œå»ºç«‹å…¨ç”Ÿå‘½å‘¨æœŸæ–‡æ¡£ç®¡ç†è§„èŒƒï¼Œç¡®ä¿æ–‡æ¡£è´¨é‡ã€å¯ç»´æŠ¤æ€§å’Œå¯è¿½æº¯æ€§ã€‚

### 1.2 é€‚ç”¨èŒƒå›´

æœ¬æ–‡æ¡£é€‚ç”¨äºYYC3æ™ºèƒ½ç¼–ç¨‹é¡¹ç›®çš„æ‰€æœ‰æ–‡æ¡£ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- æŠ€æœ¯æ–‡æ¡£
- ä¸šåŠ¡æ–‡æ¡£
- ç®¡ç†æ–‡æ¡£
- åŸ¹è®­æ–‡æ¡£
- ç”¨æˆ·æ–‡æ¡£

### 1.3 æ–‡æ¡£ç‰ˆæœ¬ç®¡ç†

#### 1.3.1 ç‰ˆæœ¬å·è§„èŒƒ

```yaml
ç‰ˆæœ¬å·æ ¼å¼: v{ä¸»ç‰ˆæœ¬}.{æ¬¡ç‰ˆæœ¬}.{ä¿®è®¢ç‰ˆæœ¬}

ä¸»ç‰ˆæœ¬ (Major):
  - ä¸å…¼å®¹çš„APIå˜æ›´
  - é‡å¤§æ¶æ„è°ƒæ•´
  - æ ¸å¿ƒåŠŸèƒ½ç§»é™¤
  
æ¬¡ç‰ˆæœ¬ (Minor):
  - å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ–°å¢
  - åŠŸèƒ½æ¨¡å—æ‰©å±•
  - æ€§èƒ½ä¼˜åŒ–
  
ä¿®è®¢ç‰ˆæœ¬ (Patch):
  - å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®å¤
  - æ–‡æ¡£é”™è¯¯ä¿®æ­£
  - å°å‹æ”¹è¿›
```

#### 1.3.2 ç‰ˆæœ¬å˜æ›´è®°å½•

```typescript
// types/documentVersionTypes.ts
/**
 * @description æ–‡æ¡£ç‰ˆæœ¬è®°å½•ç±»å‹
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export interface DocumentVersion {
  version: string;
  releaseDate: Date;
  changes: VersionChange[];
  author: string;
  approvalStatus: 'pending' | 'approved' | 'rejected';
}

export interface VersionChange {
  type: 'added' | 'modified' | 'removed' | 'fixed';
  description: string;
  affectedSections: string[];
  breakingChange: boolean;
}
```

### 1.4 æ–‡æ¡£çŠ¶æ€ç®¡ç†

#### 1.4.1 æ–‡æ¡£çŠ¶æ€å®šä¹‰

```yaml
æ–‡æ¡£çŠ¶æ€:
  draft: è‰ç¨¿
    - æ–‡æ¡£æ­£åœ¨ç¼–å†™ä¸­
    - ä¸å¯¹å¤–å‘å¸ƒ
    - ä½œè€…å¯è‡ªç”±ä¿®æ”¹
    
  review: å®¡æ ¸ä¸­
    - æ–‡æ¡£å·²å®Œæˆåˆç¨¿
    - æäº¤å®¡æ ¸æµç¨‹
    - å®¡æ ¸è€…å¯æå‡ºä¿®æ”¹æ„è§
    
  approved: å·²æ‰¹å‡†
    - æ–‡æ¡£é€šè¿‡å®¡æ ¸
    - å‡†å¤‡å‘å¸ƒ
    - ç­‰å¾…å‘å¸ƒæ—¶é—´
    
  published: å·²å‘å¸ƒ
    - æ–‡æ¡£å·²æ­£å¼å‘å¸ƒ
    - å¯¹å¤–å¯è§
    - æŒç»­ç»´æŠ¤ä¸­
    
  deprecated: å·²åºŸå¼ƒ
    - æ–‡æ¡£ä¸å†ç»´æŠ¤
    - æ ‡è®°ä¸ºåºŸå¼ƒ
    - æ¨èæ›¿ä»£æ–‡æ¡£
    
  archived: å·²å½’æ¡£
    - æ–‡æ¡£å·²å½’æ¡£
    - ä¸å†ä½¿ç”¨
    - ä»…ä¿ç•™å†å²è®°å½•
```

#### 1.4.2 æ–‡æ¡£çŠ¶æ€è½¬æ¢è§„åˆ™

```mermaid
graph TD
    A[draft] --> B[review]
    B --> C{å®¡æ ¸é€šè¿‡?}
    C -->|å¦| A
    C -->|æ˜¯| D[approved]
    D --> E[published]
    E --> F{éœ€è¦æ›´æ–°?}
    F -->|æ˜¯| A
    F -->|å¦| G{éœ€è¦åºŸå¼ƒ?}
    G -->|æ˜¯| H[deprecated]
    G -->|å¦| I{éœ€è¦å½’æ¡£?}
    I -->|æ˜¯| J[archived]
    I -->|å¦| E
    H --> J
```

### 1.5 æ–‡æ¡£åˆ†ç±»ä½“ç³»

#### 1.5.1 æ–‡æ¡£åˆ†ç±»æ ‡å‡†

```yaml
æ–‡æ¡£åˆ†ç±»ä½“ç³»:
  æŒ‰æ–‡æ¡£ç±»å‹:
    - æŠ€æœ¯æ–‡æ¡£: æ¶æ„è®¾è®¡ã€APIæ–‡æ¡£ã€å¼€å‘æŒ‡å—
    - ä¸šåŠ¡æ–‡æ¡£: éœ€æ±‚æ–‡æ¡£ã€ä¸šåŠ¡æµç¨‹ã€ç”¨æˆ·æ‰‹å†Œ
    - ç®¡ç†æ–‡æ¡£: é¡¹ç›®è®¡åˆ’ã€ä¼šè®®è®°å½•ã€å†³ç­–æ–‡æ¡£
    - åŸ¹è®­æ–‡æ¡£: åŸ¹è®­ææ–™ã€æ“ä½œæŒ‡å—ã€FAQ
    - ç”¨æˆ·æ–‡æ¡£: äº§å“æ‰‹å†Œã€ä½¿ç”¨æŒ‡å—ã€å¸®åŠ©æ–‡æ¡£
  
  æŒ‰æ–‡æ¡£çº§åˆ«:
    - é¡¹ç›®çº§æ–‡æ¡£: æ•´ä½“æ¶æ„ã€æ€»ä½“è§„åˆ’ã€æ ¸å¿ƒè®¾è®¡
    - æ¨¡å—çº§æ–‡æ¡£: æ¨¡å—è®¾è®¡ã€æ¥å£å®šä¹‰ã€å®ç°ç»†èŠ‚
    - åŠŸèƒ½çº§æ–‡æ¡£: åŠŸèƒ½è¯´æ˜ã€ä½¿ç”¨æŒ‡å—ã€æ“ä½œæ‰‹å†Œ
    - æ“ä½œçº§æ–‡æ¡£: æ“ä½œæ­¥éª¤ã€é…ç½®è¯´æ˜ã€æ•…éšœæ’æŸ¥
  
  æŒ‰æ–‡æ¡£å—ä¼—:
    - å¼€å‘è€…æ–‡æ¡£: æŠ€æœ¯å®ç°ã€APIå‚è€ƒã€å¼€å‘è§„èŒƒ
    - è¿ç»´è€…æ–‡æ¡£: éƒ¨ç½²æŒ‡å—ã€è¿ç»´æ‰‹å†Œã€ç›‘æ§å‘Šè­¦
    - ç®¡ç†è€…æ–‡æ¡£: é¡¹ç›®è§„åˆ’ã€è¿›åº¦æŠ¥å‘Šã€å†³ç­–è®°å½•
    - ç”¨æˆ·æ–‡æ¡£: äº§å“ä»‹ç»ã€ä½¿ç”¨æŒ‡å—ã€å¸¸è§é—®é¢˜
```

### 1.6 æ–‡æ¡£å‘½åè§„èŒƒ

#### 1.6.1 å‘½åæ ¼å¼æ ‡å‡†

```yaml
æ–‡æ¡£å‘½åæ ¼å¼:
  é¡¹ç›®çº§æ–‡æ¡£:
    - æ ¼å¼: YYC3-[é¡¹ç›®åç§°]-[æ–‡æ¡£ç±»å‹]-[å…·ä½“åç§°].md
  å­æ¨¡å—çº§æ–‡æ¡£:
    - æ ¼å¼: YYC3-[é¡¹ç›®åç§°]-[å­æ¨¡å—åç§°]-[æ–‡æ¡£ç±»å‹]-[å…·ä½“åç§°].md
  
  å‘½åè§„åˆ™:
    - ä½¿ç”¨kebab-caseï¼ˆçŸ­æ¨ªçº¿åˆ†éš”ï¼‰
    - é¿å…ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦
    - åç§°ç®€æ´æ˜äº†
    - ä½“ç°æ–‡æ¡£ç±»å‹å’Œå†…å®¹
```

### 1.7 æ–‡æ¡£æ¨¡æ¿æ ‡å‡†

#### 1.7.1 æŠ€æœ¯æ–‡æ¡£æ¨¡æ¿

```markdown
---
@file: YYC3-[é¡¹ç›®åç§°]-æŠ€æœ¯-[æ–‡æ¡£åç§°].md
@description: æ–‡æ¡£æè¿°
@author: ä½œè€…å§“å
@version: v1.0.0
@created: YYYY-MM-DD
@updated: YYYY-MM-DD
@status: published
@tags: æŠ€æœ¯,æ¶æ„,API
---

# æ–‡æ¡£æ ‡é¢˜

## 1. æ¦‚è¿°

### 1.1 æ–‡æ¡£ç›®çš„
### 1.2 é€‚ç”¨èŒƒå›´
### 1.3 æœ¯è¯­å®šä¹‰

## 2. æŠ€æœ¯æ¶æ„

### 2.1 æ¶æ„è®¾è®¡
### 2.2 æŠ€æœ¯é€‰å‹
### 2.3 æ¥å£å®šä¹‰

## 3. å®ç°ç»†èŠ‚

### 3.1 æ ¸å¿ƒåŠŸèƒ½
### 3.2 æ•°æ®æ¨¡å‹
### 3.3 ä¸šåŠ¡é€»è¾‘

## 4. éƒ¨ç½²æŒ‡å—

### 4.1 ç¯å¢ƒè¦æ±‚
### 4.2 éƒ¨ç½²æ­¥éª¤
### 4.3 é…ç½®è¯´æ˜

## 5. é™„å½•

### 5.1 å‚è€ƒèµ„æ–™
### 5.2 å˜æ›´è®°å½•
```

### 1.8 æ–‡æ¡£å®¡æ‰¹æµç¨‹

#### 1.8.1 å®¡æ‰¹è§’è‰²å®šä¹‰

```yaml
æ–‡æ¡£å®¡æ‰¹è§’è‰²:
  æ–‡æ¡£ä½œè€…:
    - èŒè´£: ç¼–å†™æ–‡æ¡£å†…å®¹
    - æƒé™: åˆ›å»ºã€ç¼–è¾‘ã€æäº¤å®¡æ ¸
    - çŠ¶æ€: draft -> review
  
  æ–‡æ¡£å®¡æ ¸è€…:
    - èŒè´£: å®¡æ ¸æ–‡æ¡£è´¨é‡å’Œåˆè§„æ€§
    - æƒé™: å®¡æ ¸ã€æå‡ºä¿®æ”¹æ„è§ã€æ‰¹å‡†/æ‹’ç»
    - çŠ¶æ€: review -> approved/rejected
  
  æ–‡æ¡£å‘å¸ƒè€…:
    - èŒè´£: å‘å¸ƒå·²æ‰¹å‡†çš„æ–‡æ¡£
    - æƒé™: å‘å¸ƒã€æ›´æ–°å‘å¸ƒçŠ¶æ€
    - çŠ¶æ€: approved -> published
  
  æ–‡æ¡£ç®¡ç†å‘˜:
    - èŒè´£: ç®¡ç†æ–‡æ¡£ç”Ÿå‘½å‘¨æœŸ
    - æƒé™: å½’æ¡£ã€åºŸå¼ƒã€æƒé™ç®¡ç†
    - çŠ¶æ€: published -> deprecated/archived
```

#### 1.8.2 å®¡æ‰¹æµç¨‹è§„èŒƒ

```mermaid
graph TD
    A[ä½œè€…åˆ›å»ºæ–‡æ¡£] --> B[æäº¤å®¡æ ¸]
    B --> C[å®¡æ ¸è€…å®¡æ ¸]
    C --> D{å®¡æ ¸é€šè¿‡?}
    D -->|å¦| E[è¿”å›ä¿®æ”¹]
    E --> A
    D -->|æ˜¯| F[æ‰¹å‡†æ–‡æ¡£]
    F --> G[å‘å¸ƒè€…å‘å¸ƒ]
    G --> H[æ–‡æ¡£æ­£å¼å‘å¸ƒ]
    H --> I{éœ€è¦æ›´æ–°?}
    I -->|æ˜¯| A
    I -->|å¦| J{éœ€è¦åºŸå¼ƒ?}
    J -->|æ˜¯| K[ç®¡ç†å‘˜åºŸå¼ƒ]
    J -->|å¦| L{éœ€è¦å½’æ¡£?}
    L -->|æ˜¯| M[ç®¡ç†å‘˜å½’æ¡£]
    L -->|å¦| H
    K --> M
```

### 1.9 æ–‡æ¡£å‘å¸ƒæµç¨‹

#### 1.9.1 å‘å¸ƒå‰æ£€æŸ¥æ¸…å•

```markdown
## âœ… æ–‡æ¡£å‘å¸ƒå‰æ£€æŸ¥æ¸…å•

### å†…å®¹æ£€æŸ¥
- [ ] æ–‡æ¡£å†…å®¹å®Œæ•´å‡†ç¡®
- [ ] æ–‡æ¡£æ ¼å¼ç¬¦åˆè§„èŒƒ
- [ ] æ–‡æ¡£å¤´éƒ¨ä¿¡æ¯å®Œæ•´
- [ ] æ–‡æ¡£ç‰ˆæœ¬å·æ­£ç¡®
- [ ] æ–‡æ¡£çŠ¶æ€æ­£ç¡®

### è´¨é‡æ£€æŸ¥
- [ ] æ–‡æ¡£é€»è¾‘æ¸…æ™°
- [ ] æ–‡æ¡£è¯­è¨€è§„èŒƒ
- [ ] æ–‡æ¡£æ— é”™åˆ«å­—
- [ ] æ–‡æ¡£æ— è¯­æ³•é”™è¯¯
- [ ] æ–‡æ¡£æ— æ•æ„Ÿä¿¡æ¯

### åˆè§„æ£€æŸ¥
- [ ] ç¬¦åˆYYC3è§„èŒƒ
- [ ] ç¬¦åˆé¡¹ç›®è§„åˆ™
- [ ] ç¬¦åˆå‘½åè§„èŒƒ
- [ ] ç¬¦åˆæ ¼å¼è§„èŒƒ
- [ ] ç¬¦åˆå®‰å…¨è§„èŒƒ

### å®¡æ‰¹æ£€æŸ¥
- [ ] å®¡æ ¸æµç¨‹å®Œæ•´
- [ ] å®¡æ ¸æ„è§å·²å¤„ç†
- [ ] å®¡æ ¸è®°å½•å®Œæ•´
- [ ] å®¡æ‰¹äººå·²æ‰¹å‡†
- [ ] å®¡æ‰¹æ—¶é—´å·²è®°å½•
```

#### 1.9.2 å‘å¸ƒæµç¨‹è§„èŒƒ

```yaml
æ–‡æ¡£å‘å¸ƒæµç¨‹:
  1. å‡†å¤‡é˜¶æ®µ:
    - ç¡®è®¤æ–‡æ¡£çŠ¶æ€ä¸ºapproved
    - å®Œæˆå‘å¸ƒå‰æ£€æŸ¥æ¸…å•
    - å‡†å¤‡å‘å¸ƒé€šçŸ¥
    - ç¡®å®šå‘å¸ƒæ—¶é—´
  
  2. å‘å¸ƒé˜¶æ®µ:
    - æ›´æ–°æ–‡æ¡£çŠ¶æ€ä¸ºpublished
    - æ›´æ–°æ–‡æ¡£å‘å¸ƒæ—¥æœŸ
    - å‘é€å‘å¸ƒé€šçŸ¥
    - æ›´æ–°æ–‡æ¡£ç´¢å¼•
  
  3. å‘å¸ƒåé˜¶æ®µ:
    - æ”¶é›†ç”¨æˆ·åé¦ˆ
    - ç›‘æ§æ–‡æ¡£ä½¿ç”¨æƒ…å†µ
    - å¤„ç†æ–‡æ¡£é—®é¢˜
    - è®°å½•å‘å¸ƒç»“æœ
```

### 1.10 æ–‡æ¡£å½’æ¡£æœºåˆ¶

#### 1.10.1 å½’æ¡£æ¡ä»¶

```yaml
æ–‡æ¡£å½’æ¡£æ¡ä»¶:
  è‡ªåŠ¨å½’æ¡£:
    - æ–‡æ¡£è¶…è¿‡12ä¸ªæœˆæœªæ›´æ–°
    - æ–‡æ¡£è¢«æ ‡è®°ä¸ºdeprecatedè¶…è¿‡6ä¸ªæœˆ
    - æ–‡æ¡£æ‰€å±é¡¹ç›®å·²ç»“æŸ
  
  æ‰‹åŠ¨å½’æ¡£:
    - æ–‡æ¡£å†…å®¹å·²è¿‡æ—¶
    - æ–‡æ¡£åŠŸèƒ½å·²ç§»é™¤
    - æ–‡æ¡£è¢«æ–°æ–‡æ¡£æ›¿ä»£
    - æ–‡æ¡£ä¸å†éœ€è¦ç»´æŠ¤
```

#### 1.10.2 å½’æ¡£æµç¨‹

```typescript
// services/documentArchiveService.ts
/**
 * @description æ–‡æ¡£å½’æ¡£æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentArchiveService {
  /**
   * å½’æ¡£æ–‡æ¡£
   */
  async archiveDocument(documentId: string, reason: string): Promise<void> {
    const document = await this.documentRepository.findById(documentId);
    
    // éªŒè¯å½’æ¡£æ¡ä»¶
    if (!this.canArchive(document)) {
      throw new Error('æ–‡æ¡£ä¸æ»¡è¶³å½’æ¡£æ¡ä»¶');
    }
    
    // åˆ›å»ºå½’æ¡£è®°å½•
    const archiveRecord = {
      documentId,
      originalPath: document.path,
      archivePath: this.generateArchivePath(document),
      archivedAt: new Date(),
      archivedBy: this.getCurrentUser(),
      reason,
      metadata: {
        version: document.version,
        status: document.status,
        lastUpdated: document.updatedAt
      }
    };
    
    // ç§»åŠ¨æ–‡æ¡£åˆ°å½’æ¡£ç›®å½•
    await this.moveToArchive(document, archiveRecord.archivePath);
    
    // æ›´æ–°æ–‡æ¡£çŠ¶æ€
    await this.documentRepository.update(documentId, {
      status: 'archived',
      archivedAt: new Date()
    });
    
    // ä¿å­˜å½’æ¡£è®°å½•
    await this.archiveRepository.save(archiveRecord);
    
    // å‘é€å½’æ¡£é€šçŸ¥
    await this.notifyArchived(document, archiveRecord);
  }
  
  /**
   * æ£€æŸ¥æ–‡æ¡£æ˜¯å¦å¯ä»¥å½’æ¡£
   */
  private canArchive(document: Document): boolean {
    const lastUpdate = document.updatedAt;
    const monthsSinceUpdate = this.getMonthsSince(lastUpdate);
    
    return document.status === 'deprecated' && monthsSinceUpdate >= 6 ||
           document.status === 'published' && monthsSinceUpdate >= 12;
  }
}
```

### 1.11 æ–‡æ¡£å¤‡ä»½æ¢å¤æœºåˆ¶

#### 1.11.1 å¤‡ä»½ç­–ç•¥

```yaml
æ–‡æ¡£å¤‡ä»½ç­–ç•¥:
  å¤‡ä»½é¢‘ç‡:
    - å¢é‡å¤‡ä»½: æ¯æ—¥
    - å®Œæ•´å¤‡ä»½: æ¯å‘¨
    - å½’æ¡£å¤‡ä»½: æ¯æœˆ
  
  å¤‡ä»½ç±»å‹:
    - æœ¬åœ°å¤‡ä»½: å¤‡ä»½åˆ°æœ¬åœ°å­˜å‚¨
    - è¿œç¨‹å¤‡ä»½: å¤‡ä»½åˆ°äº‘å­˜å‚¨
    - å¼‚åœ°å¤‡ä»½: å¤‡ä»½åˆ°å¼‚åœ°æ•°æ®ä¸­å¿ƒ
  
  å¤‡ä»½ä¿ç•™:
    - å¢é‡å¤‡ä»½: ä¿ç•™7å¤©
    - å®Œæ•´å¤‡ä»½: ä¿ç•™4å‘¨
    - å½’æ¡£å¤‡ä»½: ä¿ç•™12ä¸ªæœˆ
  
  å¤‡ä»½éªŒè¯:
    - æ¯å‘¨éªŒè¯å¤‡ä»½å®Œæ•´æ€§
    - æ¯æœˆæµ‹è¯•å¤‡ä»½æ¢å¤
    - æ¯å­£åº¦è¿›è¡Œç¾éš¾æ¢å¤æ¼”ç»ƒ
```

#### 1.11.2 æ¢å¤æµç¨‹

```typescript
// services/documentBackupService.ts
/**
 * @description æ–‡æ¡£å¤‡ä»½æ¢å¤æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentBackupService {
  /**
   * åˆ›å»ºæ–‡æ¡£å¤‡ä»½
   */
  async createBackup(documentId: string): Promise<BackupRecord> {
    const document = await this.documentRepository.findById(documentId);
    
    const backup = {
      id: generateUUID(),
      documentId,
      backupType: 'incremental',
      backupPath: this.generateBackupPath(document),
      backupDate: new Date(),
      backupSize: document.content.length,
      checksum: this.calculateChecksum(document.content),
      metadata: {
        version: document.version,
        status: document.status,
        author: document.author
      }
    };
    
    // åˆ›å»ºå¤‡ä»½æ–‡ä»¶
    await this.createBackupFile(document, backup.backupPath);
    
    // ä¿å­˜å¤‡ä»½è®°å½•
    await this.backupRepository.save(backup);
    
    return backup;
  }
  
  /**
   * æ¢å¤æ–‡æ¡£å¤‡ä»½
   */
  async restoreBackup(backupId: string): Promise<void> {
    const backup = await this.backupRepository.findById(backupId);
    
    // éªŒè¯å¤‡ä»½å®Œæ•´æ€§
    if (!this.verifyBackup(backup)) {
      throw new Error('å¤‡ä»½æ–‡ä»¶æŸå');
    }
    
    // åˆ›å»ºå½“å‰æ–‡æ¡£çš„å¤‡ä»½
    await this.createBackup(backup.documentId);
    
    // æ¢å¤æ–‡æ¡£
    const backupContent = await this.readBackupFile(backup.backupPath);
    await this.documentRepository.update(backup.documentId, {
      content: backupContent,
      version: backup.metadata.version,
      restoredAt: new Date(),
      restoredFrom: backupId
    });
    
    // è®°å½•æ¢å¤æ“ä½œ
    await this.logRestoreOperation(backup);
    
    // å‘é€æ¢å¤é€šçŸ¥
    await this.notifyRestored(backup);
  }
}
```

---

## ğŸ—ï¸ æ ¸å¿ƒæŠ€æœ¯æ–‡æ¡£

### 1. æ¶æ„è®¾è®¡æ–‡æ¡£

- **æ–‡æ¡£åç§°**: [æ™ºæ¢æœåŠ¡åŒ–å¹³å°ç³»ç»Ÿæ¶æ„è®¾è®¡.md](æ™ºæ¢æœåŠ¡åŒ–å¹³å°ç³»ç»Ÿæ¶æ„è®¾è®¡.md)
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **æœ€åæ›´æ–°**: 2024-03-20
- **ä¸»è¦å†…å®¹**: å››å±‚ä¸€ä½“åˆ†å±‚æ¶æ„è®¾è®¡ã€æ ¸å¿ƒç»„ä»¶é…ç½®ã€å•å…ƒè‡ªæ²»æ¶æ„ã€æ™ºèƒ½è¿ç»´èƒ½åŠ›
- **é€‚ç”¨èŒƒå›´**: æŠ€æœ¯æ¶æ„å¸ˆã€å¼€å‘å›¢é˜Ÿã€è¿ç»´å›¢é˜Ÿ

### 2. æŠ€æœ¯å®æ–½æŒ‡å—

- **æ–‡æ¡£åç§°**: [æ™ºæ¢æœåŠ¡åŒ–å¹³å°æŠ€æœ¯å®æ–½æŒ‡å—.md](æ™ºæ¢æœåŠ¡åŒ–å¹³å°æŠ€æœ¯å®æ–½æŒ‡å—.md)
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **æœ€åæ›´æ–°**: 2024-03-20
- **ä¸»è¦å†…å®¹**: åŸºç¡€è®¾æ–½éƒ¨ç½²ã€æ•°æ®å±‚å»ºè®¾ã€å¹³å°å±‚å®æ–½ã€åº”ç”¨å±‚å¼€å‘
- **é€‚ç”¨èŒƒå›´**: å¼€å‘å›¢é˜Ÿã€è¿ç»´å›¢é˜Ÿã€å®æ–½å·¥ç¨‹å¸ˆ

### 3. æœåŠ¡å¼€å‘æŒ‡å—

- **æ–‡æ¡£åç§°**: [æ™ºæ¢æœåŠ¡åŒ–å¹³å°è§„åˆ’æœåŠ¡å¼€å‘æŒ‡å—.md](æ™ºæ¢æœåŠ¡åŒ–å¹³å°è§„åˆ’æœåŠ¡å¼€å‘æŒ‡å—.md)
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **æœ€åæ›´æ–°**: 2024-03-20
- **ä¸»è¦å†…å®¹**: æœåŠ¡å‘½åè§„èŒƒã€ç›®å½•ç»“æ„ã€ç¼–ç æ ‡å‡†ã€æœåŠ¡é—´é€šä¿¡
- **é€‚ç”¨èŒƒå›´**: å¼€å‘å›¢é˜Ÿã€æœåŠ¡è®¾è®¡è€…

### 4. API æ‰‹å†Œ

- **æ–‡æ¡£åç§°**: [æ™ºæ¢æœåŠ¡åŒ–å¹³å°è§„åˆ’APIæ‰‹å†Œ.md](æ™ºæ¢æœåŠ¡åŒ–å¹³å°è§„åˆ’APIæ‰‹å†Œ.md)
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **æœ€åæ›´æ–°**: 2024-03-20
- **ä¸»è¦å†…å®¹**: APIè®¾è®¡è§„èŒƒã€ç»Ÿä¸€å“åº”æ ¼å¼ã€æ¥å£å®šä¹‰
- **é€‚ç”¨èŒƒå›´**: å‰åç«¯å¼€å‘å›¢é˜Ÿã€é›†æˆå·¥ç¨‹å¸ˆ

## ğŸ”§ å¼€å‘è§„èŒƒæ–‡æ¡£

### 5. é¡¹ç›®è§„åˆ™æ–‡ä»¶

- **æ–‡æ¡£åç§°**: [.trae/rules/project_rules.md](.trae/rules/project_rules.md)
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **æœ€åæ›´æ–°**: 2024-03-20
- **ä¸»è¦å†…å®¹**: æŠ€æœ¯æ ˆé…ç½®ã€æ¶æ„è§„èŒƒã€ä¸šåŠ¡è§„åˆ™ã€å·¥å…·å‡½æ•°ã€æµ‹è¯•è§„èŒƒ
- **é€‚ç”¨èŒƒå›´**: æ‰€æœ‰å¼€å‘äººå‘˜ã€é¡¹ç›®ç®¡ç†è€…

### 6. å¼€å‘æ¸…å•

- **æ–‡æ¡£åç§°**: [å¼€å‘æ¸…å•.md](å¼€å‘æ¸…å•.md)
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **æœ€åæ›´æ–°**: 2024-03-20
- **ä¸»è¦å†…å®¹**: å¼€å‘ä»»åŠ¡åˆ†è§£ã€ä¼˜å…ˆçº§å®šä¹‰ã€æ—¶é—´çº¿è§„åˆ’ã€å¯åŠ¨å‡†å¤‡
- **é€‚ç”¨èŒƒå›´**: é¡¹ç›®ç®¡ç†è€…ã€å¼€å‘å›¢é˜Ÿã€æµ‹è¯•å›¢é˜Ÿ

## ğŸ“‹ æ–‡æ¡£ä½¿ç”¨æŒ‡å—

### æ–°æˆå‘˜å…¥èŒæŒ‡å—

1. é¦–å…ˆé˜…è¯» [æ™ºæ¢æœåŠ¡åŒ–å¹³å°ç³»ç»Ÿæ¶æ„è®¾è®¡.md](æ™ºæ¢æœåŠ¡åŒ–å¹³å°ç³»ç»Ÿæ¶æ„è®¾è®¡.md)ï¼Œäº†è§£ç³»ç»Ÿæ•´ä½“æ¶æ„
2. ç„¶åé˜…è¯» [æ™ºæ¢æœåŠ¡åŒ–å¹³å°è§„åˆ’æœåŠ¡å¼€å‘æŒ‡å—.md](æ™ºæ¢æœåŠ¡åŒ–å¹³å°è§„åˆ’æœåŠ¡å¼€å‘æŒ‡å—.md)ï¼Œç†Ÿæ‚‰å¼€å‘è§„èŒƒ
3. æ ¹æ®å·¥ä½œå†…å®¹ï¼Œé€‰æ‹©é˜…è¯»ç›¸åº”çš„å®æ–½æŒ‡å—æˆ–APIæ‰‹å†Œ
4. æŸ¥é˜… [.trae/rules/project_rules.md](.trae/rules/project_rules.md)ï¼Œä¸¥æ ¼éµå®ˆé¡¹ç›®è§„åˆ™

### æ–‡æ¡£æ›´æ–°æµç¨‹

1. æ–‡æ¡£ä¿®æ”¹å¿…é¡»éµå¾ªYYCÂ³è§„èŒƒ
2. æ›´æ–°åå¿…é¡»ä¿®æ”¹æ–‡æ¡£å¤´éƒ¨çš„`@updated`æ—¥æœŸ
3. é‡è¦ä¿®æ”¹éœ€è¦æ›´æ–°æ–‡æ¡£ç‰ˆæœ¬å·
4. æ–‡æ¡£æ›´æ–°åéœ€è¦åŒæ­¥æ›´æ–°æœ¬ç´¢å¼•æ–‡ä»¶

### æ–‡æ¡£æœç´¢å»ºè®®

- ä½¿ç”¨å…³é”®è¯æœç´¢ç›¸å…³æ–‡æ¡£
- æŒ‰æ¨¡å—åˆ†ç±»æŸ¥æ‰¾æ‰€éœ€æ–‡æ¡£
- æ ¹æ®æ–‡æ¡£é€‚ç”¨èŒƒå›´ç¡®å®šå‚è€ƒæ–‡æ¡£

## ğŸ“Š æ–‡æ¡£å¥åº·çŠ¶æ€

### æ–‡æ¡£å®Œæ•´æ€§æ£€æŸ¥

- [x] æ¶æ„è®¾è®¡æ–‡æ¡£ - å·²å®Œæˆ
- [x] æŠ€æœ¯å®æ–½æŒ‡å— - å·²å®Œæˆ
- [x] æœåŠ¡å¼€å‘æŒ‡å— - å·²å®Œæˆ
- [x] APIæ‰‹å†Œ - å·²å®Œæˆ
- [x] é¡¹ç›®è§„åˆ™æ–‡ä»¶ - å·²å®Œæˆ
- [x] å¼€å‘æ¸…å• - å·²å®Œæˆ
- [x] æ–‡æ¡£ç´¢å¼• - å·²å®Œæˆ

### è§„èŒƒç¬¦åˆæ€§æ£€æŸ¥

- [x] YYCÂ³æ–‡ä»¶å¤´è§„èŒƒ - å·²å®Œæˆ
- [x] æ–‡æ¡£æ ¼å¼ç»Ÿä¸€ - å·²å®Œæˆ
- [x] æœ¯è¯­ä¸€è‡´æ€§ - å·²å®Œæˆ
- [x] æ¶æ„æè¿°ä¸€è‡´æ€§ - å·²å®Œæˆ

## ğŸ“… æ–‡æ¡£æ›´æ–°è®¡åˆ’

| æ–‡æ¡£åç§° | è®¡åˆ’æ›´æ–°æ—¥æœŸ | æ›´æ–°å†…å®¹ | è´Ÿè´£äºº |
|---------|------------|---------|--------|
| ç³»ç»Ÿæ¶æ„è®¾è®¡ | 2025-12-20 | ä¼˜åŒ–æ¶æ„ç»†èŠ‚ | æ¶æ„å¸ˆ |
| æŠ€æœ¯å®æ–½æŒ‡å— | 2025-12-20 | æ›´æ–°å®æ–½æ¡ˆä¾‹ | å®æ–½å·¥ç¨‹å¸ˆ |
| æœåŠ¡å¼€å‘æŒ‡å— | 2025-12-20 | è¡¥å……å¼€å‘ç¤ºä¾‹ | æŠ€æœ¯è´Ÿè´£äºº |
| APIæ‰‹å†Œ | æŒç»­æ›´æ–° | å®Œå–„APIå®šä¹‰ | å¼€å‘å›¢é˜Ÿ |

## ğŸ“ æ–‡æ¡£ç®¡ç†è¯´æ˜

- **æ–‡æ¡£å­˜å‚¨**: æ‰€æœ‰æ–‡æ¡£å­˜å‚¨åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„`docs/`æ–‡ä»¶å¤¹ä¸­ï¼Œæ¯ä¸ªæ–‡æ¡£éƒ½é¡»é‡‡ç”¨`YYC3-[é¡¹ç›®åç§°]-[æ–‡æ¡£ç±»å‹]-[å…·ä½“åç§°].md`æ ¼å¼ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ç§æƒ…å†µï¼š
- **é¡¹ç›®çº§æ–‡æ¡£**ï¼š
  - å®æ–½æ‰§è¡Œæ—¶ç›´æ¥å¼•ç”¨çš„æ–‡æ¡£ï¼Œä¾‹å¦‚é¡¹ç›®è®¾è®¡æ–‡æ¡£ã€å®æ–½è®¡åˆ’æ–‡æ¡£ç­‰ã€‚
  - é¡¹ç›®çº§æ–‡æ¡£ï¼š`YYC3-[é¡¹ç›®åç§°]-[æ–‡æ¡£ç±»å‹]-[å…·ä½“åç§°].md`
    - ä¾‹å¦‚ï¼š
      - å®æ–½æ‰§è¡Œæ—¶ç›´æ¥å¼•ç”¨çš„æ–‡æ¡£ï¼Œä¾‹å¦‚é¡¹ç›®è®¾è®¡æ–‡æ¡£ã€å®æ–½è®¡åˆ’æ–‡æ¡£ç­‰ã€‚
        - `YYC3-æ™ºæ¢-æ™ºèƒ½èœå•å›¾è°±ç³»ç»Ÿ-å¼€å‘è®¾è®¡æ–‡æ¡£.md`
      - å®æ–½æ‰§è¡Œåéœ€è¦æ›´æ–°/ç”Ÿæˆçš„æ–‡æ¡£ï¼Œä¾‹å¦‚å®æ–½æ€»ç»“æŠ¥å‘Šã€å®¡æ ¸è§„åˆ’å»ºè®®ç­‰ã€‚
        - `YYC3-æ™ºæ¢-æ™ºèƒ½èœå•å›¾è°±ç³»ç»Ÿ-å®æ–½æ€»ç»“æŠ¥å‘Š.md`
        - `YYC3-æ™ºæ¢-æ™ºèƒ½èœå•å›¾è°±ç³»ç»Ÿ-å®¡æ ¸è§„åˆ’å»ºè®®.md`

- **å­æ¨¡å—çº§æ–‡æ¡£**ï¼š
  - å­æ¨¡å—çº§æ–‡æ¡£ï¼š`YYC3-[é¡¹ç›®åç§°]-[å­æ¨¡å—åç§°]-[æ–‡æ¡£ç±»å‹]-[å…·ä½“åç§°].md`
    - ä¾‹å¦‚ï¼š
      - `YYC3-æ™ºæ¢-æ™ºèƒ½èœå•-æœåŠ¡å¼€å‘æŒ‡å—.md`
      - `YYC3-æ™ºæ¢-æ™ºèƒ½èœå•-APIæ‰‹å†Œ.md`
**åŒæ­¥æ›´æ–°**ï¼šé¡¹ç›®çº§æ–‡æ¡£å®æ–½æ‰§è¡Œåéœ€è¦ä¸é¡¹ç›®å®æ–½åŒæ­¥æ›´æ–°ï¼Œç¡®ä¿é¡¹ç›®è®¾è®¡ä¸å®é™…æ‰§è¡Œä¿æŒä¸€è‡´ï¼Œæ€»ç»“æ‰§è¡Œç»“æœã€è¯„ä¼°æ•ˆæœã€æ”¹è¿›å»ºè®®ç­‰åŠæ—¶è®°å½•ï¼Œç”Ÿæˆæ–‡æ¡£ä¿å­˜å¹¶æ›´æ–°æ–‡æ¡£ç´¢å¼•ã€‚

- **å‘½åè§„èŒƒ**: é‡‡ç”¨`YYC3-[é¡¹ç›®åç§°]-[æ–‡æ¡£ç±»å‹]-[å…·ä½“åç§°].md`æ ¼å¼
- **ç‰ˆæœ¬ç®¡ç†**: éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬å·è§„èŒƒ
- **æ›´æ–°è®°å½•**: é‡è¦æ›´æ–°éœ€è¦åœ¨æ–‡æ¡£æœ«å°¾æ·»åŠ æ›´æ–°æ—¥å¿—ï¼Œè®°å½•æ›´æ–°å‡†ç¡®æ—¶é—´ã€æ›´æ–°å†…å®¹ã€æ›´æ–°äººç­‰ä¿¡æ¯ã€‚
- **ç´¢å¼•æ›´æ–°**: æ¯æ¬¡æ–‡æ¡£æ›´æ–°åï¼Œéœ€è¦åŠæ—¶æ›´æ–°æœ¬ç´¢å¼•æ–‡ä»¶ï¼Œç¡®ä¿å¯¼èˆªè·¯å¾„çš„å‡†ç¡®æ€§ã€‚
- **ç´¢å¼•æ ¼å¼**: é‡‡ç”¨Markdownæ ¼å¼ï¼Œæ¯ä¸ªæ–‡æ¡£æ¡ç›®åŒ…å«æ–‡æ¡£åç§°ã€æ–‡æ¡£ç‰ˆæœ¬ã€æœ€åæ›´æ–°æ—¥æœŸã€ä¸»è¦å†…å®¹ã€é€‚ç”¨èŒƒå›´ç­‰ä¿¡æ¯ã€‚

---

## ğŸ• æ—¶é—´å˜æ›´ç®¡ç†æœºåˆ¶ï¼ˆåŸºäº"äº”é«˜äº”æ ‡äº”åŒ–"ï¼‰

### 1. é«˜èµ·ç‚¹è§„åˆ’ï¼šæ—¶é—´å˜æ›´ç®¡ç†æ¡†æ¶

#### 1.1 æ—¶é—´å˜æ›´å®šä¹‰ä¸åˆ†ç±»

```yaml
æ—¶é—´å˜æ›´ç±»å‹:
  ğŸ”´ ç´§æ€¥å˜æ›´:
    - å®šä¹‰: å½±å“ç³»ç»Ÿç¨³å®šæ€§æˆ–å®‰å…¨æ€§çš„ç´§æ€¥ä¿®å¤
    - å“åº”æ—¶é—´: < 2å°æ—¶
    - å®¡æ‰¹æµç¨‹: ç´§æ€¥å®¡æ‰¹é€šé“
    - æ–‡æ¡£è¦æ±‚: äº‹å48å°æ—¶å†…è¡¥å……å®Œæ•´æ–‡æ¡£

  ğŸŸ¡ é‡è¦å˜æ›´:
    - å®šä¹‰: å½±å“ä¸šåŠ¡åŠŸèƒ½æˆ–ç”¨æˆ·ä½“éªŒçš„é‡è¦æ›´æ–°
    - å“åº”æ—¶é—´: < 24å°æ—¶
    - å®¡æ‰¹æµç¨‹: æ ‡å‡†å®¡æ‰¹æµç¨‹
    - æ–‡æ¡£è¦æ±‚: å˜æ›´å‰å®Œæˆæ–‡æ¡£æ›´æ–°

  ğŸŸ¢ æ™®é€šå˜æ›´:
    - å®šä¹‰: å¸¸è§„ä¼˜åŒ–æˆ–åŠŸèƒ½å¢å¼º
    - å“åº”æ—¶é—´: < 72å°æ—¶
    - å®¡æ‰¹æµç¨‹: å¸¸è§„å®¡æ‰¹æµç¨‹
    - æ–‡æ¡£è¦æ±‚: å˜æ›´ååŠæ—¶æ›´æ–°æ–‡æ¡£
```

#### 1.2 æ—¶é—´å˜æ›´ç®¡ç†æµç¨‹

```mermaid
graph TD
    A[å˜æ›´è¯·æ±‚] --> B{å˜æ›´ç±»å‹åˆ¤æ–­}
    B -->|ç´§æ€¥| C[ç´§æ€¥å®¡æ‰¹é€šé“]
    B -->|é‡è¦| D[æ ‡å‡†å®¡æ‰¹æµç¨‹]
    B -->|æ™®é€š| E[å¸¸è§„å®¡æ‰¹æµç¨‹]
    C --> F[ç«‹å³æ‰§è¡Œå˜æ›´]
    D --> G[æ–‡æ¡£å‰ç½®å®¡æ ¸]
    E --> H[æ–‡æ¡£å‰ç½®å®¡æ ¸]
    G --> I[æ‰§è¡Œå˜æ›´]
    H --> I
    F --> J[äº‹å48å°æ—¶è¡¥æ–‡æ¡£]
    I --> K[æ–‡æ¡£åŒæ­¥æ›´æ–°]
    J --> K
    K --> L[å˜æ›´éªŒè¯ä¸å½’æ¡£]
```

### 2. é«˜æ ‡å‡†å»ºè®¾ï¼šæ—¶é—´å˜æ›´æ–‡æ¡£æ ‡å‡†

#### 2.1 å˜æ›´æ–‡æ¡£å¤´éƒ¨è§„èŒƒ

```markdown
---
@file: YYC3-æ™ºæ¢-[æ–‡æ¡£ç±»å‹]-[å…·ä½“åç§°].md
@description: [æ–‡æ¡£æè¿°]
@author: [ä½œè€…]
@version: [ç‰ˆæœ¬å·]
@created: [åˆ›å»ºæ—¥æœŸ]
@updated: [æœ€åæ›´æ–°æ—¥æœŸ]
@change_type: [ç´§æ€¥/é‡è¦/æ™®é€š]
@change_reason: [å˜æ›´åŸå› ]
@change_impact: [å˜æ›´å½±å“èŒƒå›´]
@change_reviewer: [å˜æ›´å®¡æ ¸äºº]
---
```

#### 2.2 å˜æ›´æ—¥å¿—æ ¼å¼è§„èŒƒ

```markdown
## ğŸ“‹ å˜æ›´æ—¥å¿—

### [ç‰ˆæœ¬å·] - [æ›´æ–°æ—¥æœŸ]
**å˜æ›´ç±»å‹**: [ç´§æ€¥/é‡è¦/æ™®é€š]
**å˜æ›´äºº**: [å§“å]
**å®¡æ ¸äºº**: [å§“å]
**å˜æ›´åŸå› **: [è¯¦ç»†è¯´æ˜]

**å˜æ›´å†…å®¹**:
- [ ] [å˜æ›´é¡¹1]
- [ ] [å˜æ›´é¡¹2]
- [ ] [å˜æ›´é¡¹3]

**å½±å“èŒƒå›´**:
- æ¨¡å—: [å—å½±å“æ¨¡å—åˆ—è¡¨]
- æ¥å£: [å—å½±å“æ¥å£åˆ—è¡¨]
- æ•°æ®: [å—å½±å“æ•°æ®ç»“æ„]

**éªŒè¯ç»“æœ**:
- [ ] åŠŸèƒ½éªŒè¯é€šè¿‡
- [ ] æ€§èƒ½éªŒè¯é€šè¿‡
- [ ] å®‰å…¨éªŒè¯é€šè¿‡
- [ ] å…¼å®¹æ€§éªŒè¯é€šè¿‡

**ç›¸å…³æ–‡æ¡£**:
- [æ–‡æ¡£é“¾æ¥1]
- [æ–‡æ¡£é“¾æ¥2]
```

### 3. é«˜æ•ˆç‡è¿è¥ï¼šæ—¶é—´å˜æ›´è‡ªåŠ¨åŒ–ç®¡ç†

#### 3.1 è‡ªåŠ¨åŒ–å˜æ›´è¿½è¸ª

```typescript
// services/changeTrackingService.ts
/**
 * @description æ—¶é—´å˜æ›´è‡ªåŠ¨è¿½è¸ªæœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class ChangeTrackingService {
  /**
   * è®°å½•å˜æ›´äº‹ä»¶
   */
  async recordChange(change: ChangeEvent): Promise<void> {
    const changeRecord = {
      id: generateUUID(),
      timestamp: new Date().toISOString(),
      type: change.type, // emergency | important | normal
      author: change.author,
      files: change.files,
      impact: change.impact,
      status: 'pending'
    };
    
    await this.changeRepository.save(changeRecord);
    
    // æ ¹æ®å˜æ›´ç±»å‹è§¦å‘ä¸åŒæµç¨‹
    if (change.type === 'emergency') {
      await this.triggerEmergencyWorkflow(changeRecord);
    } else {
      await this.triggerStandardWorkflow(changeRecord);
    }
  }
  
  /**
   * æ£€æŸ¥æ–‡æ¡£åŒæ­¥çŠ¶æ€
   */
  async checkDocumentSync(changeId: string): Promise<SyncStatus> {
    const change = await this.changeRepository.findById(changeId);
    const docs = await this.documentRepository.findByChangeId(changeId);
    
    return {
      changeId,
      requiredDocs: change.files.length,
      syncedDocs: docs.length,
      pendingDocs: change.files.length - docs.length,
      lastSyncTime: docs.length > 0 ? docs[0].updatedAt : null,
      isSyncComplete: docs.length === change.files.length
    };
  }
}
```

#### 3.2 æ–‡æ¡£åŒæ­¥è‡ªåŠ¨åŒ–

```yaml
æ–‡æ¡£åŒæ­¥è‡ªåŠ¨åŒ–é…ç½®:
  è§¦å‘æ¡ä»¶:
    - ä»£ç æäº¤åè‡ªåŠ¨æ£€æµ‹
    - æ–‡ä»¶å˜æ›´åè‡ªåŠ¨è§¦å‘
    - å®šæ—¶æ£€æŸ¥ï¼ˆæ¯å°æ—¶ï¼‰
  
  åŒæ­¥è§„åˆ™:
    - ä»£ç å˜æ›´ -> è‡ªåŠ¨ç”Ÿæˆå˜æ›´æ—¥å¿—
    - APIå˜æ›´ -> è‡ªåŠ¨æ›´æ–°APIæ–‡æ¡£
    - é…ç½®å˜æ›´ -> è‡ªåŠ¨æ›´æ–°é…ç½®æ–‡æ¡£
    - æ•°æ®å˜æ›´ -> è‡ªåŠ¨æ›´æ–°æ•°æ®å­—å…¸
  
  é€šçŸ¥æœºåˆ¶:
    - æ–‡æ¡£åŒæ­¥å¤±è´¥ -> ç«‹å³é€šçŸ¥
    - æ–‡æ¡£åŒæ­¥å»¶è¿Ÿ -> 24å°æ—¶åé€šçŸ¥
    - æ–‡æ¡£åŒæ­¥å®Œæˆ -> æ±‡æ€»é€šçŸ¥
```

### 4. é«˜è´¨é‡æœåŠ¡ï¼šæ—¶é—´å˜æ›´è´¨é‡ä¿éšœ

#### 4.1 å˜æ›´è´¨é‡æ£€æŸ¥æ¸…å•

```markdown
## âœ… å˜æ›´è´¨é‡æ£€æŸ¥æ¸…å•

### å˜æ›´å‰æ£€æŸ¥
- [ ] å˜æ›´éœ€æ±‚å·²æ˜ç¡®
- [ ] å˜æ›´å½±å“å·²è¯„ä¼°
- [ ] å˜æ›´æ–¹æ¡ˆå·²è®¾è®¡
- [ ] å˜æ›´æµ‹è¯•å·²è§„åˆ’
- [ ] å˜æ›´å›æ»šå·²å‡†å¤‡
- [ ] å˜æ›´æ–‡æ¡£å·²ç¼–å†™

### å˜æ›´ä¸­æ£€æŸ¥
- [ ] å˜æ›´æ‰§è¡ŒæŒ‰è®¡åˆ’è¿›è¡Œ
- [ ] å˜æ›´è¿‡ç¨‹å·²è®°å½•
- [ ] å˜æ›´å¼‚å¸¸å·²å¤„ç†
- [ ] å˜æ›´å½±å“å·²ç›‘æ§

### å˜æ›´åæ£€æŸ¥
- [ ] å˜æ›´åŠŸèƒ½å·²éªŒè¯
- [ ] å˜æ›´æ€§èƒ½å·²æµ‹è¯•
- [ ] å˜æ›´æ–‡æ¡£å·²æ›´æ–°
- [ ] å˜æ›´çŸ¥è¯†å·²æ²‰æ·€
- [ ] å˜æ›´æ€»ç»“å·²å½’æ¡£
```

#### 4.2 å˜æ›´è´¨é‡è¯„ä¼°æŒ‡æ ‡

```yaml
å˜æ›´è´¨é‡è¯„ä¼°æŒ‡æ ‡:
  åŠæ—¶æ€§:
    - å˜æ›´å“åº”æ—¶é—´: < 2å°æ—¶ï¼ˆç´§æ€¥ï¼‰/< 24å°æ—¶ï¼ˆé‡è¦ï¼‰/< 72å°æ—¶ï¼ˆæ™®é€šï¼‰
    - æ–‡æ¡£æ›´æ–°åŠæ—¶ç‡: 100%
    - å˜æ›´å®Œæˆç‡: â‰¥ 95%
  
  å‡†ç¡®æ€§:
    - å˜æ›´æè¿°å‡†ç¡®ç‡: 100%
    - å½±å“è¯„ä¼°å‡†ç¡®ç‡: â‰¥ 95%
    - æ–‡æ¡£å†…å®¹å‡†ç¡®ç‡: 100%
  
  å®Œæ•´æ€§:
    - å˜æ›´æ—¥å¿—å®Œæ•´ç‡: 100%
    - æ–‡æ¡£æ›´æ–°å®Œæ•´ç‡: 100%
    - å½±å“åˆ†æå®Œæ•´ç‡: â‰¥ 95%
  
  ä¸€è‡´æ€§:
    - ä»£ç æ–‡æ¡£ä¸€è‡´æ€§: 100%
    - è·¨æ–‡æ¡£ä¸€è‡´æ€§: â‰¥ 98%
    - ç‰ˆæœ¬ä¸€è‡´æ€§: 100%
```

### 5. é«˜æ•ˆç›Šå›æŠ¥ï¼šæ—¶é—´å˜æ›´ä»·å€¼åº¦é‡

#### 5.1 å˜æ›´ä»·å€¼è¯„ä¼°æ¨¡å‹

```typescript
// services/changeValueService.ts
/**
 * @description å˜æ›´ä»·å€¼è¯„ä¼°æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class ChangeValueService {
  /**
   * è®¡ç®—å˜æ›´ä»·å€¼åˆ†æ•°
   */
  calculateChangeValue(change: ChangeRecord): number {
    const businessValue = this.assessBusinessValue(change);
    const technicalValue = this.assessTechnicalValue(change);
    const riskCost = this.assessRiskCost(change);
    const timeCost = this.assessTimeCost(change);
    
    return (businessValue + technicalValue - riskCost - timeCost) / 
           (change.effortHours || 1);
  }
  
  /**
   * ä¸šåŠ¡ä»·å€¼è¯„ä¼°
   */
  private assessBusinessValue(change: ChangeRecord): number {
    let score = 0;
    
    if (change.impact.userExperience) score += 30;
    if (change.impact.revenue) score += 25;
    if (change.impact.costSaving) score += 20;
    if (change.impact.compliance) score += 15;
    if (change.impact.brand) score += 10;
    
    return score;
  }
}
```

---

## ğŸ¤– æ™ºèƒ½ç¼–ç¨‹å·¥å…·å˜æ›´è¡”æ¥æœºåˆ¶

### 1. æµç¨‹æ ‡å‡†åŒ–ï¼šå·¥å…·å˜æ›´ç®¡ç†æµç¨‹

#### 1.1 å·¥å…·å˜æ›´ç”Ÿå‘½å‘¨æœŸ

```mermaid
graph LR
    A[å·¥å…·é€‰å‹] --> B[å·¥å…·è¯„ä¼°]
    B --> C[å·¥å…·è¯•ç”¨]
    C --> D[å·¥å…·å†³ç­–]
    D --> E[å·¥å…·é›†æˆ]
    E --> F[æ–‡æ¡£æ›´æ–°]
    F --> G[åŸ¹è®­æ¨å¹¿]
    G --> H[æŒç»­ä¼˜åŒ–]
```

#### 1.2 å·¥å…·å˜æ›´å®¡æ‰¹æµç¨‹

```yaml
å·¥å…·å˜æ›´å®¡æ‰¹æµç¨‹:
  1. å·¥å…·é€‰å‹é˜¶æ®µ:
    - æäº¤å·¥å…·é€‰å‹ç”³è¯·
    - æŠ€æœ¯è¯„ä¼°æŠ¥å‘Š
    - æˆæœ¬æ•ˆç›Šåˆ†æ
    - é£é™©è¯„ä¼°æŠ¥å‘Š
  
  2. å·¥å…·è¯„ä¼°é˜¶æ®µ:
    - æŠ€æœ¯å¯è¡Œæ€§è¯„ä¼°
    - å…¼å®¹æ€§æµ‹è¯•
    - æ€§èƒ½åŸºå‡†æµ‹è¯•
    - å®‰å…¨æ€§å®¡æŸ¥
  
  3. å·¥å…·å†³ç­–é˜¶æ®µ:
    - æŠ€æœ¯å§”å‘˜ä¼šè¯„å®¡
    - é¡¹ç›®è´Ÿè´£äººå®¡æ‰¹
    - èµ„æºåˆ†é…ç¡®è®¤
    - æ—¶é—´è®¡åˆ’ç¡®è®¤
  
  4. å·¥å…·é›†æˆé˜¶æ®µ:
    - é›†æˆæ–¹æ¡ˆè®¾è®¡
    - é›†æˆå¼€å‘å®æ–½
    - é›†æˆæµ‹è¯•éªŒè¯
    - æ–‡æ¡£åŒæ­¥æ›´æ–°
  
  5. åŸ¹è®­æ¨å¹¿é˜¶æ®µ:
    - åŸ¹è®­ææ–™å‡†å¤‡
    - å›¢é˜ŸåŸ¹è®­å®æ–½
    - ä½¿ç”¨æŒ‡å—å‘å¸ƒ
    - æ”¯æŒæœåŠ¡å¯åŠ¨
```

### 2. æ•°æ®æ ‡å‡†åŒ–ï¼šå·¥å…·å˜æ›´æ•°æ®ç®¡ç†

#### 2.1 å·¥å…·å˜æ›´æ•°æ®æ¨¡å‹

```typescript
// types/toolChangeTypes.ts
/**
 * @description å·¥å…·å˜æ›´æ•°æ®æ¨¡å‹
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export interface ToolChangeRecord {
  id: string;
  toolName: string;
  toolVersion: string;
  changeType: 'add' | 'update' | 'remove' | 'replace';
  changeReason: string;
  changeImpact: ToolChangeImpact;
  approvalStatus: 'pending' | 'approved' | 'rejected';
  implementationStatus: 'not_started' | 'in_progress' | 'completed';
  documents: ToolChangeDocument[];
  timeline: ToolChangeTimeline;
  stakeholders: string[];
}

export interface ToolChangeImpact {
  affectedModules: string[];
  affectedTeams: string[];
  affectedDocuments: string[];
  migrationRequired: boolean;
  trainingRequired: boolean;
  estimatedEffort: number; // hours
}

export interface ToolChangeDocument {
  documentId: string;
  documentName: string;
  documentType: string;
  updateStatus: 'pending' | 'in_progress' | 'completed';
  updatePriority: 'high' | 'medium' | 'low';
}
```

#### 2.2 å·¥å…·å˜æ›´æ–‡æ¡£æ˜ å°„è¡¨

```yaml
å·¥å…·å˜æ›´æ–‡æ¡£æ˜ å°„:
  æ™ºèƒ½ç¼–ç¨‹å·¥å…·å˜æ›´:
    æ–°å¢å·¥å…·:
      - å·¥å…·ä½¿ç”¨æŒ‡å— (å¿…é¡»)
      - å·¥å…·é…ç½®æ–‡æ¡£ (å¿…é¡»)
      - å·¥å…·APIæ–‡æ¡£ (å¦‚é€‚ç”¨)
      - å·¥å…·æœ€ä½³å®è·µ (æ¨è)
    
    æ›´æ–°å·¥å…·:
      - å·¥å…·ç‰ˆæœ¬æ›´æ–°è¯´æ˜ (å¿…é¡»)
      - å·¥å…·å˜æ›´å½±å“åˆ†æ (å¿…é¡»)
      - å·¥å…·è¿ç§»æŒ‡å— (å¦‚éœ€è¦)
      - å·¥å…·å…¼å®¹æ€§è¯´æ˜ (å¦‚éœ€è¦)
    
    ç§»é™¤å·¥å…·:
      - å·¥å…·ç§»é™¤é€šçŸ¥ (å¿…é¡»)
      - å·¥å…·æ›¿ä»£æ–¹æ¡ˆ (å¿…é¡»)
      - å·¥å…·æ•°æ®è¿ç§»æŒ‡å— (å¦‚éœ€è¦)
      - å·¥å…·å†å²å½’æ¡£ (æ¨è)
```

### 3. æœåŠ¡æ ‡å‡†åŒ–ï¼šå·¥å…·å˜æ›´æœåŠ¡ç®¡ç†

#### 3.1 å·¥å…·å˜æ›´æœåŠ¡æ¥å£

```typescript
// services/toolChangeService.ts
/**
 * @description å·¥å…·å˜æ›´ç®¡ç†æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class ToolChangeService {
  /**
   * åˆ›å»ºå·¥å…·å˜æ›´è¯·æ±‚
   */
  async createToolChange(request: ToolChangeRequest): Promise<ToolChangeRecord> {
    const changeRecord: ToolChangeRecord = {
      id: generateUUID(),
      toolName: request.toolName,
      toolVersion: request.toolVersion,
      changeType: request.changeType,
      changeReason: request.changeReason,
      changeImpact: await this.assessChangeImpact(request),
      approvalStatus: 'pending',
      implementationStatus: 'not_started',
      documents: await this.identifyAffectedDocuments(request),
      timeline: this.createChangeTimeline(request),
      stakeholders: request.stakeholders
    };
    
    await this.changeRepository.save(changeRecord);
    await this.notifyStakeholders(changeRecord);
    
    return changeRecord;
  }
  
  /**
   * è¯„ä¼°å·¥å…·å˜æ›´å½±å“
   */
  private async assessChangeImpact(request: ToolChangeRequest): Promise<ToolChangeImpact> {
    const affectedModules = await this.findAffectedModules(request.toolName);
    const affectedTeams = await this.findAffectedTeams(affectedModules);
    const affectedDocuments = await this.findAffectedDocuments(request.toolName);
    
    return {
      affectedModules,
      affectedTeams,
      affectedDocuments,
      migrationRequired: this.checkMigrationRequired(request),
      trainingRequired: this.checkTrainingRequired(request),
      estimatedEffort: this.estimateEffort(request, affectedModules)
    };
  }
  
  /**
   * åŒæ­¥æ–‡æ¡£æ›´æ–°
   */
  async syncDocumentUpdates(changeId: string): Promise<void> {
    const change = await this.changeRepository.findById(changeId);
    
    for (const doc of change.documents) {
      if (doc.updateStatus !== 'completed') {
        await this.updateDocument(doc, change);
        doc.updateStatus = 'completed';
      }
    }
    
    await this.changeRepository.update(changeId, { documents: change.documents });
  }
}
```

#### 3.2 å·¥å…·å˜æ›´è‡ªåŠ¨åŒ–è„šæœ¬

```bash
#!/bin/bash
# scripts/tool-change-sync.sh
# å·¥å…·å˜æ›´æ–‡æ¡£åŒæ­¥è„šæœ¬

TOOL_NAME=$1
TOOL_VERSION=$2
CHANGE_TYPE=$3

echo "å¼€å§‹å·¥å…·å˜æ›´æ–‡æ¡£åŒæ­¥..."
echo "å·¥å…·: $TOOL_NAME"
echo "ç‰ˆæœ¬: $TOOL_VERSION"
echo "å˜æ›´ç±»å‹: $CHANGE_TYPE"

# æŸ¥æ‰¾å—å½±å“çš„æ–‡æ¡£
AFFECTED_DOCS=$(find docs -name "*.md" -exec grep -l "$TOOL_NAME" {} \;)

echo "å—å½±å“çš„æ–‡æ¡£:"
echo "$AFFECTED_DOCS"

# æ›´æ–°æ–‡æ¡£ç‰ˆæœ¬ä¿¡æ¯
for doc in $AFFECTED_DOCS; do
  echo "æ›´æ–°æ–‡æ¡£: $doc"
  # æ·»åŠ å·¥å…·å˜æ›´æ ‡è®°
  sed -i '' "/@updated/a\\
@tool_change: $TOOL_NAME v$TOOL_VERSION ($CHANGE_TYPE) - $(date +%Y-%m-%d)
" "$doc"
done

echo "æ–‡æ¡£åŒæ­¥å®Œæˆ!"
```

### 4. å®‰å…¨æ ‡å‡†åŒ–ï¼šå·¥å…·å˜æ›´å®‰å…¨ç®¡ç†

#### 4.1 å·¥å…·å®‰å…¨è¯„ä¼°æ¸…å•

```markdown
## ğŸ”’ å·¥å…·å®‰å…¨è¯„ä¼°æ¸…å•

### å·¥å…·æ¥æºå®‰å…¨
- [ ] å·¥å…·æ¥æºå¯ä¿¡ï¼ˆå®˜æ–¹/çŸ¥åå¼€æºï¼‰
- [ ] å·¥å…·ç»´æŠ¤æ´»è·ƒ
- [ ] å·¥å…·æœ‰å®‰å…¨å®¡è®¡è®°å½•
- [ ] å·¥å…·è®¸å¯è¯åˆè§„

### å·¥å…·åŠŸèƒ½å®‰å…¨
- [ ] æ— æ¶æ„ä»£ç 
- [ ] æ— æ•°æ®æ³„éœ²é£é™©
- [ ] æ— æƒé™æå‡æ¼æ´
- [ ] æ— ä¾èµ–æ³¨å…¥é£é™©

### å·¥å…·ä½¿ç”¨å®‰å…¨
- [ ] è®¿é—®æƒé™æ§åˆ¶
- [ ] æ“ä½œæ—¥å¿—è®°å½•
- [ ] å¼‚å¸¸è¡Œä¸ºç›‘æ§
- [ ] å®‰å…¨é…ç½®æŒ‡å—

### å·¥å…·æ•°æ®å®‰å…¨
- [ ] æ•°æ®ä¼ è¾“åŠ å¯†
- [ ] æ•°æ®å­˜å‚¨åŠ å¯†
- [ ] æ•°æ®è®¿é—®æ§åˆ¶
- [ ] æ•°æ®å¤‡ä»½æœºåˆ¶
```

#### 4.2 å·¥å…·å˜æ›´å®‰å…¨å®¡æŸ¥æµç¨‹

```yaml
å®‰å…¨å®¡æŸ¥æµç¨‹:
  1. åˆæ­¥å®‰å…¨æ‰«æ:
    - é™æ€ä»£ç åˆ†æ
    - ä¾èµ–æ¼æ´æ‰«æ
    - è®¸å¯è¯åˆè§„æ£€æŸ¥
    - æ¶æ„ä»£ç æ£€æµ‹
  
  2. æ·±åº¦å®‰å…¨è¯„ä¼°:
    - æ¸—é€æµ‹è¯•
    - å®‰å…¨æ¶æ„å®¡æŸ¥
    - æ•°æ®æµåˆ†æ
    - å¨èƒå»ºæ¨¡
  
  3. å®‰å…¨é£é™©è¯„çº§:
    - é«˜é£é™©: ç¦æ­¢ä½¿ç”¨
    - ä¸­é£é™©: é™åˆ¶ä½¿ç”¨
    - ä½é£é™©: æ­£å¸¸ä½¿ç”¨
    - æ— é£é™©: æ¨èä½¿ç”¨
  
  4. å®‰å…¨æªæ–½åˆ¶å®š:
    - å®‰å…¨é…ç½®æŒ‡å—
    - ä½¿ç”¨é™åˆ¶æ¡ä»¶
    - ç›‘æ§å‘Šè­¦è§„åˆ™
    - åº”æ€¥å“åº”é¢„æ¡ˆ
```

### 5. è¯„ä»·æ ‡å‡†åŒ–ï¼šå·¥å…·å˜æ›´æ•ˆæœè¯„ä¼°

#### 5.1 å·¥å…·å˜æ›´æ•ˆæœè¯„ä¼°æŒ‡æ ‡

```yaml
å·¥å…·å˜æ›´æ•ˆæœè¯„ä¼°:
  æŠ€æœ¯æ•ˆæœ:
    - å¼€å‘æ•ˆç‡æå‡: â‰¥ 20%
    - ä»£ç è´¨é‡æå‡: â‰¥ 15%
    - ç¼ºé™·ç‡é™ä½: â‰¥ 25%
    - ç»´æŠ¤æˆæœ¬é™ä½: â‰¥ 20%
  
  ä¸šåŠ¡æ•ˆæœ:
    - äº¤ä»˜é€Ÿåº¦æå‡: â‰¥ 25%
    - å›¢é˜Ÿæ»¡æ„åº¦: â‰¥ 4.0/5.0
    - å­¦ä¹ æˆæœ¬: â‰¤ 2å‘¨
    - é‡‡ç”¨ç‡: â‰¥ 80%
  
  ç»æµæ•ˆæœ:
    - å·¥å…·æˆæœ¬: â‰¤ é¢„ç®—
    - ROI: â‰¥ 2.0
    - æŠ•èµ„å›æ”¶æœŸ: â‰¤ 6ä¸ªæœˆ
    - æ€»æˆæœ¬é™ä½: â‰¥ 15%
```

#### 5.2 å·¥å…·å˜æ›´æŒç»­ç›‘æ§

```typescript
// services/toolMonitoringService.ts
/**
 * @description å·¥å…·å˜æ›´æŒç»­ç›‘æ§æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class ToolMonitoringService {
  /**
   * ç›‘æ§å·¥å…·ä½¿ç”¨æƒ…å†µ
   */
  async monitorToolUsage(toolId: string): Promise<ToolUsageMetrics> {
    const usage = await this.collectUsageData(toolId);
    const performance = await this.collectPerformanceData(toolId);
    const feedback = await this.collectFeedbackData(toolId);
    
    return {
      adoptionRate: this.calculateAdoptionRate(usage),
      activeUsers: usage.activeUsers,
      avgSessionTime: usage.avgSessionTime,
      errorRate: performance.errorRate,
      responseTime: performance.avgResponseTime,
      satisfactionScore: feedback.avgScore,
      issuesReported: feedback.issueCount
    };
  }
  
  /**
   * ç”Ÿæˆå·¥å…·å˜æ›´è¯„ä¼°æŠ¥å‘Š
   */
  async generateEvaluationReport(changeId: string): Promise<EvaluationReport> {
    const change = await this.changeRepository.findById(changeId);
    const metrics = await this.monitorToolUsage(change.toolName);
    const comparison = await this.compareWithBaseline(change, metrics);
    
    return {
      changeId,
      toolName: change.toolName,
      toolVersion: change.toolVersion,
      evaluationDate: new Date(),
      metrics,
      comparison,
      recommendations: this.generateRecommendations(metrics, comparison),
      overallScore: this.calculateOverallScore(metrics, comparison)
    };
  }
}
```

---

## ğŸ”„ æ–‡æ¡£ç”Ÿå‘½å‘¨æœŸç®¡ç†æµç¨‹

### 1. æ•°å­—åŒ–ï¼šæ–‡æ¡£å…¨ç”Ÿå‘½å‘¨æœŸæ•°å­—åŒ–ç®¡ç†

#### 1.1 æ–‡æ¡£ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ

```mermaid
graph TD
    A[æ–‡æ¡£åˆ›å»º] --> B[æ–‡æ¡£å®¡æ ¸]
    B --> C{å®¡æ ¸é€šè¿‡?}
    C -->|å¦| A
    C -->|æ˜¯| D[æ–‡æ¡£å‘å¸ƒ]
    D --> E[æ–‡æ¡£ä½¿ç”¨]
    E --> F[æ–‡æ¡£ç»´æŠ¤]
    F --> G{éœ€è¦æ›´æ–°?}
    G -->|æ˜¯| H[æ–‡æ¡£æ›´æ–°]
    H --> B
    G -->|å¦| I{éœ€è¦å½’æ¡£?}
    I -->|å¦| E
    I -->|æ˜¯| J[æ–‡æ¡£å½’æ¡£]
```

#### 1.2 æ–‡æ¡£ç”Ÿå‘½å‘¨æœŸçŠ¶æ€ç®¡ç†

```typescript
// types/documentLifecycleTypes.ts
/**
 * @description æ–‡æ¡£ç”Ÿå‘½å‘¨æœŸç±»å‹å®šä¹‰
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export type DocumentStatus = 
  | 'draft'           // è‰ç¨¿
  | 'review'          // å®¡æ ¸ä¸­
  | 'approved'        // å·²æ‰¹å‡†
  | 'published'       // å·²å‘å¸ƒ
  | 'deprecated'      // å·²åºŸå¼ƒ
  | 'archived';       // å·²å½’æ¡£

export interface DocumentLifecycle {
  documentId: string;
  currentStatus: DocumentStatus;
  statusHistory: DocumentStatusChange[];
  lifecycleEvents: LifecycleEvent[];
  nextActions: ActionItem[];
}

export interface DocumentStatusChange {
  status: DocumentStatus;
  timestamp: Date;
  changedBy: string;
  reason: string;
  reviewers?: string[];
}
```

### 2. ç½‘ç»œåŒ–ï¼šæ–‡æ¡£ååŒç½‘ç»œç®¡ç†

#### 2.1 æ–‡æ¡£ååŒç½‘ç»œæ¶æ„

```yaml
æ–‡æ¡£ååŒç½‘ç»œ:
  ååŒå±‚çº§:
    - ä¸ªäººå±‚: ä¸ªäººæ–‡æ¡£ç©ºé—´
    - å›¢é˜Ÿå±‚: å›¢é˜Ÿå…±äº«æ–‡æ¡£
    - é¡¹ç›®å±‚: é¡¹ç›®æ–‡æ¡£åº“
    - ç»„ç»‡å±‚: ç»„ç»‡çŸ¥è¯†åº“
  
  ååŒå…³ç³»:
    - åˆ›å»ºè€…: æ–‡æ¡£åˆ›å»ºäºº
    - ç»´æŠ¤è€…: æ–‡æ¡£ç»´æŠ¤è´£ä»»äºº
    - å®¡æ ¸è€…: æ–‡æ¡£å®¡æ ¸äºº
    - ä½¿ç”¨è€…: æ–‡æ¡£ä½¿ç”¨è€…
    - è®¢é˜…è€…: æ–‡æ¡£å˜æ›´è®¢é˜…è€…
  
  ååŒæƒé™:
    - è¯»å–: æŸ¥çœ‹æ–‡æ¡£
    - ç¼–è¾‘: ä¿®æ”¹æ–‡æ¡£
    - å®¡æ ¸: å®¡æ ¸æ–‡æ¡£
    - å‘å¸ƒ: å‘å¸ƒæ–‡æ¡£
    - å½’æ¡£: å½’æ¡£æ–‡æ¡£
```

#### 2.2 æ–‡æ¡£ååŒå·¥ä½œæµ

```typescript
// services/documentCollaborationService.ts
/**
 * @description æ–‡æ¡£ååŒç®¡ç†æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentCollaborationService {
  /**
   * åˆ›å»ºæ–‡æ¡£ååŒä¼šè¯
   */
  async createCollaborationSession(
    documentId: string,
    participants: string[]
  ): Promise<CollaborationSession> {
    const session: CollaborationSession = {
      id: generateUUID(),
      documentId,
      participants: participants.map(p => ({
        userId: p,
        role: this.determineParticipantRole(p, documentId),
        joinedAt: new Date(),
        isActive: true
      })),
      createdAt: new Date(),
      status: 'active'
    };
    
    await this.sessionRepository.save(session);
    await this.notifyParticipants(session);
    
    return session;
  }
  
  /**
   * å¤„ç†æ–‡æ¡£å˜æ›´å†²çª
   */
  async resolveConflict(
    documentId: string,
    conflict: DocumentConflict
  ): Promise<ConflictResolution> {
    const baseVersion = await this.getDocumentVersion(documentId, conflict.baseVersion);
    const localChanges = conflict.localChanges;
    const remoteChanges = conflict.remoteChanges;
    
    // æ™ºèƒ½å†²çªè§£å†³ç­–ç•¥
    const resolution = await this.applyConflictResolutionStrategy(
      baseVersion,
      localChanges,
      remoteChanges
    );
    
    if (resolution.autoResolved) {
      await this.applyResolution(documentId, resolution);
    } else {
      await this.requestManualResolution(documentId, conflict);
    }
    
    return resolution;
  }
}
```

### 3. æ™ºèƒ½åŒ–ï¼šæ–‡æ¡£æ™ºèƒ½ç®¡ç†

#### 3.1 æ–‡æ¡£æ™ºèƒ½æ¨è

```typescript
// services/documentRecommendationService.ts
/**
 * @description æ–‡æ¡£æ™ºèƒ½æ¨èæœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentRecommendationService {
  /**
   * åŸºäºä¸Šä¸‹æ–‡æ¨èæ–‡æ¡£
   */
  async recommendByContext(context: RecommendationContext): Promise<DocumentRecommendation[]> {
    const userContext = await this.getUserContext(context.userId);
    const taskContext = await this.getTaskContext(context.taskId);
    const projectContext = await this.getProjectContext(context.projectId);
    
    const recommendations = await this.recommendationEngine.predict({
      user: userContext,
      task: taskContext,
      project: projectContext,
      history: await this.getUserHistory(context.userId)
    });
    
    return recommendations
      .sort((a, b) => b.relevanceScore - a.relevanceScore)
      .slice(0, 10);
  }
  
  /**
   * åŸºäºå˜æ›´æ¨èéœ€è¦æ›´æ–°çš„æ–‡æ¡£
   */
  async recommendDocumentsToUpdate(change: CodeChange): Promise<DocumentUpdateRecommendation[]> {
    const changedFiles = change.files;
    const changedModules = this.extractModules(changedFiles);
    const changedAPIs = this.extractAPIs(changedFiles);
    
    const recommendations = [];
    
    for (const module of changedModules) {
      const moduleDocs = await this.findModuleDocuments(module);
      recommendations.push(...moduleDocs.map(doc => ({
        documentId: doc.id,
        documentName: doc.name,
        updateReason: `æ¨¡å— ${module} å‘ç”Ÿå˜æ›´`,
        priority: 'high',
        confidence: 0.9
      })));
    }
    
    for (const api of changedAPIs) {
      const apiDocs = await this.findAPIDocuments(api);
      recommendations.push(...apiDocs.map(doc => ({
        documentId: doc.id,
        documentName: doc.name,
        updateReason: `API ${api} å‘ç”Ÿå˜æ›´`,
        priority: 'high',
        confidence: 0.95
      })));
    }
    
    return recommendations;
  }
}
```

#### 3.2 æ–‡æ¡£æ™ºèƒ½åˆ†æ

```typescript
// services/documentAnalysisService.ts
/**
 * @description æ–‡æ¡£æ™ºèƒ½åˆ†ææœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentAnalysisService {
  /**
   * åˆ†ææ–‡æ¡£è´¨é‡
   */
  async analyzeDocumentQuality(documentId: string): Promise<DocumentQualityReport> {
    const document = await this.documentRepository.findById(documentId);
    const content = document.content;
    
    return {
      documentId,
      overallScore: 0,
      metrics: {
        completeness: this.assessCompleteness(content),
        accuracy: await this.assessAccuracy(documentId, content),
        consistency: this.assessConsistency(content),
        readability: this.assessReadability(content),
        maintainability: this.assessMaintainability(content)
      },
      issues: await this.identifyIssues(documentId, content),
      suggestions: await this.generateSuggestions(documentId, content)
    };
  }
  
  /**
   * æ£€æµ‹æ–‡æ¡£è¿‡æ—¶é£é™©
   */
  async detectOutdatedRisk(documentId: string): Promise<OutdatedRiskReport> {
    const document = await this.documentRepository.findById(documentId);
    const relatedCode = await this.findRelatedCode(document);
    const lastUpdate = document.updatedAt;
    const codeChanges = await this.getCodeChangesSince(lastUpdate);
    
    return {
      documentId,
      riskLevel: this.calculateRiskLevel(codeChanges),
      lastSync: lastUpdate,
      codeChangesCount: codeChanges.length,
      affectedModules: this.extractAffectedModules(codeChanges),
      recommendedActions: this.generateUpdateActions(codeChanges)
    };
  }
}
```

### 4. è‡ªåŠ¨åŒ–ï¼šæ–‡æ¡£è‡ªåŠ¨åŒ–ç®¡ç†

#### 4.1 æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ

```typescript
// services/documentGenerationService.ts
/**
 * @description æ–‡æ¡£è‡ªåŠ¨ç”ŸæˆæœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentGenerationService {
  /**
   * ä»ä»£ç è‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£
   */
  async generateAPIDocumentation(codePath: string): Promise<GeneratedDocument> {
    const codeAnalysis = await this.analyzeCode(codePath);
    const apiEndpoints = this.extractAPIEndpoints(codeAnalysis);
    
    const document = {
      id: generateUUID(),
      type: 'api-documentation',
      title: `${codePath} APIæ–‡æ¡£`,
      content: this.generateAPIDocContent(apiEndpoints),
      metadata: {
        source: codePath,
        generatedAt: new Date(),
        generator: 'auto-api-doc-generator'
      }
    };
    
    await this.documentRepository.save(document);
    return document;
  }
  
  /**
   * ä»å˜æ›´è‡ªåŠ¨ç”Ÿæˆå˜æ›´æ—¥å¿—
   */
  async generateChangeLog(changeId: string): Promise<ChangeLog> {
    const change = await this.changeRepository.findById(changeId);
    const codeChanges = await this.getCodeChanges(change);
    const affectedDocs = await this.getAffectedDocuments(change);
    
    const changeLog = {
      id: generateUUID(),
      changeId,
      version: this.generateNextVersion(),
      date: new Date(),
      changes: codeChanges.map(c => ({
        type: c.type,
        file: c.file,
        description: c.description,
        impact: c.impact
      })),
      affectedDocuments: affectedDocs.map(d => ({
        documentId: d.id,
        documentName: d.name,
        updateStatus: d.updateStatus
      }))
    };
    
    return changeLog;
  }
}
```

#### 4.2 æ–‡æ¡£è‡ªåŠ¨åŒæ­¥

```yaml
æ–‡æ¡£è‡ªåŠ¨åŒæ­¥è§„åˆ™:
  ä»£ç å˜æ›´è§¦å‘:
    - APIå˜æ›´ -> è‡ªåŠ¨æ›´æ–°APIæ–‡æ¡£
    - é…ç½®å˜æ›´ -> è‡ªåŠ¨æ›´æ–°é…ç½®æ–‡æ¡£
    - æ•°æ®æ¨¡å‹å˜æ›´ -> è‡ªåŠ¨æ›´æ–°æ•°æ®å­—å…¸
    - ä¸šåŠ¡é€»è¾‘å˜æ›´ -> è‡ªåŠ¨æ›´æ–°ä¸šåŠ¡æ–‡æ¡£
  
  æ–‡æ¡£å˜æ›´è§¦å‘:
    - æ–‡æ¡£æ›´æ–° -> è‡ªåŠ¨é€šçŸ¥è®¢é˜…è€…
    - æ–‡æ¡£åºŸå¼ƒ -> è‡ªåŠ¨æ›´æ–°ç´¢å¼•
    - æ–‡æ¡£å½’æ¡£ -> è‡ªåŠ¨æ¸…ç†å¼•ç”¨
  
  å®šæ—¶åŒæ­¥:
    - æ¯å°æ—¶æ£€æŸ¥æ–‡æ¡£åŒæ­¥çŠ¶æ€
    - æ¯æ—¥ç”Ÿæˆæ–‡æ¡£åŒæ­¥æŠ¥å‘Š
    - æ¯å‘¨è¿›è¡Œæ–‡æ¡£å¥åº·æ£€æŸ¥
    - æ¯æœˆè¿›è¡Œæ–‡æ¡£è´¨é‡è¯„ä¼°
```

### 5. ç”Ÿæ€åŒ–ï¼šæ–‡æ¡£ç”Ÿæ€ç®¡ç†

#### 5.1 æ–‡æ¡£çŸ¥è¯†å›¾è°±

```typescript
// services/documentKnowledgeGraphService.ts
/**
 * @description æ–‡æ¡£çŸ¥è¯†å›¾è°±æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentKnowledgeGraphService {
  /**
   * æ„å»ºæ–‡æ¡£çŸ¥è¯†å›¾è°±
   */
  async buildKnowledgeGraph(): Promise<KnowledgeGraph> {
    const documents = await this.documentRepository.findAll();
    const relationships = await this.extractRelationships(documents);
    
    return {
      nodes: documents.map(doc => ({
        id: doc.id,
        type: doc.type,
        label: doc.title,
        metadata: doc.metadata
      })),
      edges: relationships.map(rel => ({
        source: rel.sourceId,
        target: rel.targetId,
        type: rel.type,
        weight: rel.weight
      }))
    };
  }
  
  /**
   * åŸºäºçŸ¥è¯†å›¾è°±æ¨èç›¸å…³æ–‡æ¡£
   */
  async recommendRelatedDocuments(documentId: string): Promise<Document[]> {
    const graph = await this.buildKnowledgeGraph();
    const node = graph.nodes.find(n => n.id === documentId);
    
    if (!node) return [];
    
    const relatedEdges = graph.edges.filter(
      e => e.source === documentId || e.target === documentId
    );
    
    const relatedIds = relatedEdges.map(e => 
      e.source === documentId ? e.target : e.source
    );
    
    return await this.documentRepository.findByIds(relatedIds);
  }
}
```

#### 5.2 æ–‡æ¡£ç”Ÿæ€ç³»ç»ŸæŒ‡æ ‡

```yaml
æ–‡æ¡£ç”Ÿæ€ç³»ç»Ÿå¥åº·æŒ‡æ ‡:
  æ´»è·ƒåº¦æŒ‡æ ‡:
    - æ–‡æ¡£æ›´æ–°é¢‘ç‡: â‰¥ æ¯å‘¨1æ¬¡
    - æ–‡æ¡£è®¿é—®é‡: â‰¥ æ¯æ—¥10æ¬¡
    - æ–‡æ¡£è´¡çŒ®è€…: â‰¥ 5äºº
    - æ–‡æ¡£è¯„è®ºæ•°: â‰¥ æ¯æœˆ5æ¡
  
  è´¨é‡æŒ‡æ ‡:
    - æ–‡æ¡£å®Œæ•´åº¦: â‰¥ 95%
    - æ–‡æ¡£å‡†ç¡®åº¦: â‰¥ 98%
    - æ–‡æ¡£ä¸€è‡´æ€§: â‰¥ 95%
    - æ–‡æ¡£å¯è¯»æ€§: â‰¥ 4.0/5.0
  
  ååŒæŒ‡æ ‡:
    - æ–‡æ¡£åä½œç‡: â‰¥ 60%
    - æ–‡æ¡£å…±äº«ç‡: â‰¥ 80%
    - æ–‡æ¡£åé¦ˆç‡: â‰¥ 40%
    - æ–‡æ¡£æ»¡æ„åº¦: â‰¥ 4.0/5.0
  
  ä»·å€¼æŒ‡æ ‡:
    - æ–‡æ¡£ä½¿ç”¨ç‡: â‰¥ 70%
    - æ–‡æ¡£è§£å†³é—®é¢˜ç‡: â‰¥ 85%
    - æ–‡æ¡£èŠ‚çœæ—¶é—´: â‰¥ 2å°æ—¶/äºº/å‘¨
    - æ–‡æ¡£ROI: â‰¥ 3.0
```

---

## ğŸ“Š æ–‡æ¡£è´¨é‡è¯„ä¼°å’Œå®¡è®¡æœºåˆ¶

### 1. è´¨é‡è¯„ä¼°ç»´åº¦

#### 1.1 æ–‡æ¡£è´¨é‡è¯„ä¼°æ¡†æ¶

```yaml
æ–‡æ¡£è´¨é‡è¯„ä¼°æ¡†æ¶:
  å†…å®¹è´¨é‡:
    - å®Œæ•´æ€§: æ–‡æ¡£å†…å®¹æ˜¯å¦å®Œæ•´
    - å‡†ç¡®æ€§: æ–‡æ¡£å†…å®¹æ˜¯å¦å‡†ç¡®
    - æ—¶æ•ˆæ€§: æ–‡æ¡£å†…å®¹æ˜¯å¦æœ€æ–°
    - ç›¸å…³æ€§: æ–‡æ¡£å†…å®¹æ˜¯å¦ç›¸å…³
  
  ç»“æ„è´¨é‡:
    - é€»è¾‘æ€§: æ–‡æ¡£ç»“æ„æ˜¯å¦é€»è¾‘æ¸…æ™°
    - ä¸€è‡´æ€§: æ–‡æ¡£æ ¼å¼æ˜¯å¦ä¸€è‡´
    - å¯è¯»æ€§: æ–‡æ¡£æ˜¯å¦æ˜“äºé˜…è¯»
    - å¯ç»´æŠ¤æ€§: æ–‡æ¡£æ˜¯å¦æ˜“äºç»´æŠ¤
  
  è¿‡ç¨‹è´¨é‡:
    - åˆè§„æ€§: æ–‡æ¡£æ˜¯å¦ç¬¦åˆè§„èŒƒ
    - å¯è¿½æº¯æ€§: æ–‡æ¡£å˜æ›´æ˜¯å¦å¯è¿½æº¯
    - å¯éªŒè¯æ€§: æ–‡æ¡£å†…å®¹æ˜¯å¦å¯éªŒè¯
    - å¯å®¡è®¡æ€§: æ–‡æ¡£æ“ä½œæ˜¯å¦å¯å®¡è®¡
```

#### 1.2 æ–‡æ¡£è´¨é‡è¯„åˆ†æ¨¡å‹

```typescript
// services/documentQualityService.ts
/**
 * @description æ–‡æ¡£è´¨é‡è¯„ä¼°æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentQualityService {
  /**
   * è¯„ä¼°æ–‡æ¡£è´¨é‡
   */
  async assessDocumentQuality(documentId: string): Promise<QualityAssessment> {
    const document = await this.documentRepository.findById(documentId);
    
    const contentScore = await this.assessContentQuality(document);
    const structureScore = await this.assessStructureQuality(document);
    const processScore = await this.assessProcessQuality(document);
    
    const overallScore = (
      contentScore * 0.4 +
      structureScore * 0.3 +
      processScore * 0.3
    );
    
    return {
      documentId,
      overallScore,
      grade: this.calculateGrade(overallScore),
      dimensions: {
        content: contentScore,
        structure: structureScore,
        process: processScore
      },
      issues: await this.identifyQualityIssues(document),
      recommendations: await this.generateQualityRecommendations(document)
    };
  }
  
  /**
   * è®¡ç®—è´¨é‡ç­‰çº§
   */
  private calculateGrade(score: number): QualityGrade {
    if (score >= 90) return 'A';
    if (score >= 80) return 'B';
    if (score >= 70) return 'C';
    if (score >= 60) return 'D';
    return 'F';
  }
}
```

### 2. å®¡è®¡æœºåˆ¶

#### 2.1 æ–‡æ¡£å®¡è®¡æµç¨‹

```mermaid
graph TD
    A[å®¡è®¡è®¡åˆ’] --> B[å®¡è®¡å‡†å¤‡]
    B --> C[å®¡è®¡æ‰§è¡Œ]
    C --> D[å®¡è®¡å‘ç°]
    D --> E[å®¡è®¡æŠ¥å‘Š]
    E --> F[æ•´æ”¹è·Ÿè¸ª]
    F --> G[å®¡è®¡å½’æ¡£]
```

#### 2.2 æ–‡æ¡£å®¡è®¡æ£€æŸ¥æ¸…å•

```markdown
## ğŸ“‹ æ–‡æ¡£å®¡è®¡æ£€æŸ¥æ¸…å•

### æ–‡æ¡£è§„èŒƒæ€§å®¡è®¡
- [ ] æ–‡æ¡£å‘½åç¬¦åˆè§„èŒƒ
- [ ] æ–‡æ¡£æ ¼å¼ç¬¦åˆè§„èŒƒ
- [ ] æ–‡æ¡£å¤´éƒ¨ä¿¡æ¯å®Œæ•´
- [ ] æ–‡æ¡£ç‰ˆæœ¬ç®¡ç†è§„èŒƒ
- [ ] æ–‡æ¡£åˆ†ç±»æ­£ç¡®

### æ–‡æ¡£å†…å®¹å®¡è®¡
- [ ] å†…å®¹å®Œæ•´å‡†ç¡®
- [ ] å†…å®¹é€»è¾‘æ¸…æ™°
- [ ] å†…å®¹ä¸ä»£ç ä¸€è‡´
- [ ] å†…å®¹åŠæ—¶æ›´æ–°
- [ ] å†…å®¹æ— æ•æ„Ÿä¿¡æ¯

### æ–‡æ¡£æµç¨‹å®¡è®¡
- [ ] åˆ›å»ºæµç¨‹åˆè§„
- [ ] å®¡æ ¸æµç¨‹å®Œæ•´
- [ ] å‘å¸ƒæµç¨‹è§„èŒƒ
- [ ] å˜æ›´æµç¨‹å¯è¿½æº¯
- [ ] å½’æ¡£æµç¨‹å®Œæ•´

### æ–‡æ¡£å®‰å…¨å®¡è®¡
- [ ] è®¿é—®æƒé™æ§åˆ¶
- [ ] æ“ä½œæ—¥å¿—è®°å½•
- [ ] æ•æ„Ÿä¿¡æ¯ä¿æŠ¤
- [ ] å¤‡ä»½æ¢å¤æœºåˆ¶
- [ ] å®‰å…¨äº‹ä»¶å“åº”
```

#### 2.3 æ–‡æ¡£å®¡è®¡æŠ¥å‘Šæ¨¡æ¿

```typescript
// types/auditReportTypes.ts
/**
 * @description æ–‡æ¡£å®¡è®¡æŠ¥å‘Šç±»å‹
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export interface DocumentAuditReport {
  reportId: string;
  auditDate: Date;
  auditor: string;
  scope: AuditScope;
  findings: AuditFinding[];
  summary: AuditSummary;
  recommendations: Recommendation[];
  followUp: FollowUpAction[];
}

export interface AuditFinding {
  id: string;
  severity: 'critical' | 'high' | 'medium' | 'low';
  category: string;
  description: string;
  evidence: string[];
  affectedDocuments: string[];
  impact: string;
}

export interface AuditSummary {
  totalDocumentsAudited: number;
  documentsPassed: number;
  documentsFailed: number;
  criticalIssues: number;
  highIssues: number;
  mediumIssues: number;
  lowIssues: number;
  overallComplianceRate: number;
}
```

### 3. æŒç»­æ”¹è¿›æœºåˆ¶

#### 3.1 æ–‡æ¡£è´¨é‡æŒç»­ç›‘æ§

```typescript
// services/documentQualityMonitoringService.ts
/**
 * @description æ–‡æ¡£è´¨é‡æŒç»­ç›‘æ§æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentQualityMonitoringService {
  /**
   * æŒç»­ç›‘æ§æ–‡æ¡£è´¨é‡
   */
  async monitorQuality(): Promise<QualityMonitoringReport> {
    const allDocuments = await this.documentRepository.findAll();
    const qualityReports = await Promise.all(
      allDocuments.map(doc => this.qualityService.assessDocumentQuality(doc.id))
    );
    
    return {
      monitoringDate: new Date(),
      totalDocuments: allDocuments.length,
      averageScore: this.calculateAverageScore(qualityReports),
      scoreDistribution: this.calculateScoreDistribution(qualityReports),
      trend: await this.getQualityTrend(),
      issues: this.extractCriticalIssues(qualityReports),
      recommendations: this.generateImprovementRecommendations(qualityReports)
    };
  }
  
  /**
   * ç”Ÿæˆè´¨é‡æ”¹è¿›è®¡åˆ’
   */
  async generateImprovementPlan(): Promise<QualityImprovementPlan> {
    const monitoringReport = await this.monitorQuality();
    const priorityIssues = this.prioritizeIssues(monitoringReport.issues);
    
    return {
      planId: generateUUID(),
      createdAt: new Date(),
      priorityIssues: priorityIssues.map(issue => ({
        issueId: issue.id,
        description: issue.description,
        priority: issue.severity,
        actionPlan: this.createActionPlan(issue),
        owner: this.assignOwner(issue),
        dueDate: this.calculateDueDate(issue),
        estimatedEffort: this.estimateEffort(issue)
      })),
      expectedOutcomes: this.defineExpectedOutcomes(priorityIssues),
      successCriteria: this.defineSuccessCriteria()
    };
  }
}
```

#### 3.2 æ–‡æ¡£è´¨é‡æ”¹è¿›æªæ–½

```yaml
æ–‡æ¡£è´¨é‡æ”¹è¿›æªæ–½:
  æµç¨‹æ”¹è¿›:
    - ä¼˜åŒ–æ–‡æ¡£åˆ›å»ºæµç¨‹
    - å¼ºåŒ–æ–‡æ¡£å®¡æ ¸æœºåˆ¶
    - å®Œå–„æ–‡æ¡£å˜æ›´ç®¡ç†
    - å»ºç«‹æ–‡æ¡£å½’æ¡£è§„èŒƒ
  
  å·¥å…·æ”¹è¿›:
    - å¼•å…¥æ–‡æ¡£è´¨é‡æ£€æŸ¥å·¥å…·
    - éƒ¨ç½²æ–‡æ¡£è‡ªåŠ¨åŒ–ç”Ÿæˆå·¥å…·
    - å»ºç«‹æ–‡æ¡£ååŒå¹³å°
    - å®æ–½æ–‡æ¡£æ™ºèƒ½åˆ†æ
  
  åŸ¹è®­æ”¹è¿›:
    - å¼€å±•æ–‡æ¡£è§„èŒƒåŸ¹è®­
    - ç»„ç»‡æ–‡æ¡£è´¨é‡åˆ†äº«
    - å»ºç«‹æ–‡æ¡£å¯¼å¸ˆåˆ¶åº¦
    - æ¨å¹¿æœ€ä½³å®è·µ
  
  æ¿€åŠ±æ”¹è¿›:
    - å»ºç«‹æ–‡æ¡£è´¨é‡å¥–åŠ±æœºåˆ¶
    - è®¾ç«‹æ–‡æ¡£è´¨é‡æ ‡æ†
    - å¼€å±•æ–‡æ¡£è´¨é‡ç«èµ›
    - è®¤å¯æ–‡æ¡£è´¡çŒ®è€…
```

---

## ğŸ“… æ–‡æ¡£ æ›´æ–°è®¡åˆ’

| æ–‡æ¡£åç§° | è®¡åˆ’æ›´æ–°æ—¥æœŸ | æ›´æ–°å†…å®¹ | è´Ÿè´£äºº |
|---------|------------|---------|--------|
| ç³»ç»Ÿæ¶æ„è®¾è®¡ | 2024-06-20 | ä¼˜åŒ–æ¶æ„ç»†èŠ‚ | æ¶æ„å¸ˆ |
| æŠ€æœ¯å®æ–½æŒ‡å— | 2024-06-20 | æ›´æ–°å®æ–½æ¡ˆä¾‹ | å®æ–½å·¥ç¨‹å¸ˆ |
| æœåŠ¡å¼€å‘æŒ‡å— | 2024-05-20 | è¡¥å……å¼€å‘ç¤ºä¾‹ | æŠ€æœ¯è´Ÿè´£äºº |
| APIæ‰‹å†Œ | æŒç»­æ›´æ–° | å®Œå–„APIå®šä¹‰ | å¼€å‘å›¢é˜Ÿ |
| æ–‡æ¡£ç®¡ç†æ ‡å‡† | 2024-12-24 | è¡¥å……æ—¶é—´å˜æ›´å’Œå·¥å…·å˜æ›´ç®¡ç† | æ–‡æ¡£ç®¡ç†å‘˜ |

---

## ğŸ“ æ–‡æ¡£åˆ›å»ºæ ‡å‡†å’Œæµç¨‹

### 1. æ–‡æ¡£åˆ›å»ºæ ‡å‡†

#### 1.1 æ–‡æ¡£åˆ›å»ºå‰ç½®æ¡ä»¶

```yaml
æ–‡æ¡£åˆ›å»ºå‰ç½®æ¡ä»¶:
  éœ€æ±‚ç¡®è®¤:
    - æ–‡æ¡£ç”¨é€”æ˜ç¡®
    - ç›®æ ‡å—ä¼—æ¸…æ™°
    - å†…å®¹èŒƒå›´ç•Œå®š
    - äº¤ä»˜æ—¶é—´ç¡®å®š
  
  èµ„æºå‡†å¤‡:
    - æ–‡æ¡£æ¨¡æ¿å‡†å¤‡å°±ç»ª
    - å‚è€ƒèµ„æ–™æ”¶é›†å®Œæ•´
    - å·¥å…·ç¯å¢ƒé…ç½®å®Œæˆ
    - è´£ä»»äººå‘˜åˆ†é…åˆ°ä½
  
  æŠ€æœ¯å‡†å¤‡:
    - æ–‡æ¡£å­˜å‚¨è·¯å¾„ç¡®å®š
    - ç‰ˆæœ¬æ§åˆ¶åˆ†æ”¯åˆ›å»º
    - åä½œæƒé™é…ç½®å®Œæˆ
    - å®¡æ ¸æµç¨‹ç¡®è®¤
```

#### 1.2 æ–‡æ¡£åˆ›å»ºæµç¨‹

```mermaid
graph TD
    A[éœ€æ±‚åˆ†æ] --> B[æ¨¡æ¿é€‰æ‹©]
    B --> C[å†…å®¹ç¼–å†™]
    C --> D[è‡ªæˆ‘å®¡æŸ¥]
    D --> E[åŒè¡Œè¯„å®¡]
    E --> F[ä¿®æ”¹å®Œå–„]
    F --> G[æäº¤å®¡æ ¸]
    G --> H{å®¡æ ¸é€šè¿‡?}
    H -->|å¦| F
    H -->|æ˜¯| I[å‘å¸ƒæ–‡æ¡£]
    I --> J[å½’æ¡£è®°å½•]
```

#### 1.3 æ–‡æ¡£åˆ›å»ºæ£€æŸ¥æ¸…å•

```markdown
## ğŸ“‹ æ–‡æ¡£åˆ›å»ºæ£€æŸ¥æ¸…å•

### åˆ›å»ºå‰æ£€æŸ¥
- [ ] æ–‡æ¡£éœ€æ±‚å·²æ˜ç¡®
- [ ] ç›®æ ‡å—ä¼—å·²ç¡®å®š
- [ ] æ–‡æ¡£æ¨¡æ¿å·²å‡†å¤‡
- [ ] å‚è€ƒèµ„æ–™å·²æ”¶é›†
- [ ] è´£ä»»äººå‘˜å·²åˆ†é…

### åˆ›å»ºä¸­æ£€æŸ¥
- [ ] æ–‡æ¡£å¤´éƒ¨ä¿¡æ¯å®Œæ•´
- [ ] æ–‡æ¡£ç»“æ„æ¸…æ™°åˆç†
- [ ] å†…å®¹å‡†ç¡®å®Œæ•´
- [ ] æ ¼å¼ç¬¦åˆè§„èŒƒ
- [ ] ä»£ç ç¤ºä¾‹å¯è¿è¡Œ

### åˆ›å»ºåæ£€æŸ¥
- [ ] æ‹¼å†™è¯­æ³•æ­£ç¡®
- [ ] é“¾æ¥å¼•ç”¨æœ‰æ•ˆ
- [ ] å›¾ç‰‡å›¾è¡¨æ¸…æ™°
- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°
- [ ] å®¡æ ¸æµç¨‹å·²å¯åŠ¨
```

### 2. æ–‡æ¡£åˆ›å»ºæœåŠ¡

```typescript
// services/documentCreationService.ts
/**
 * @description æ–‡æ¡£åˆ›å»ºæœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentCreationService {
  /**
   * åˆ›å»ºæ–°æ–‡æ¡£
   */
  async createDocument(request: DocumentCreationRequest): Promise<Document> {
    const template = await this.getTemplate(request.templateId);
    const document = this.initializeFromTemplate(template, request);
    
    await this.validateDocument(document);
    await this.documentRepository.save(document);
    await this.initiateReviewProcess(document.id);
    
    return document;
  }
  
  /**
   * ä»æ¨¡æ¿åˆå§‹åŒ–æ–‡æ¡£
   */
  private initializeFromTemplate(template: DocumentTemplate, request: DocumentCreationRequest): Document {
    return {
      id: generateUUID(),
      name: request.name,
      type: template.type,
      content: template.content,
      metadata: {
        ...template.metadata,
        author: request.author,
        createdAt: new Date(),
        templateId: template.id
      },
      status: 'draft',
      version: 'v1.0.0'
    };
  }
  
  /**
   * éªŒè¯æ–‡æ¡£
   */
  private async validateDocument(document: Document): Promise<void> {
    const errors = await this.documentValidator.validate(document);
    if (errors.length > 0) {
      throw new ValidationError('æ–‡æ¡£éªŒè¯å¤±è´¥', errors);
    }
  }
}
```

---

## ğŸ‘¥ æ–‡æ¡£åä½œç®¡ç†è§„èŒƒ

### 1. åä½œè§’è‰²å®šä¹‰

#### 1.1 åä½œè§’è‰²æƒé™

```yaml
æ–‡æ¡£åä½œè§’è‰²:
  æ–‡æ¡£æ‰€æœ‰è€…:
    æƒé™:
      - åˆ›å»º/åˆ é™¤æ–‡æ¡£
      - åˆ†é…åä½œè€…
      - è®¾ç½®æ–‡æ¡£æƒé™
      - æ‰¹å‡†æ–‡æ¡£å‘å¸ƒ
    èŒè´£:
      - ç¡®ä¿æ–‡æ¡£è´¨é‡
      - ç®¡ç†æ–‡æ¡£ç”Ÿå‘½å‘¨æœŸ
      - åè°ƒåä½œæ´»åŠ¨
      - å¤„ç†æ–‡æ¡£é—®é¢˜
  
  æ–‡æ¡£ç¼–è¾‘è€…:
    æƒé™:
      - ç¼–è¾‘æ–‡æ¡£å†…å®¹
      - æ·»åŠ è¯„è®º
      - æäº¤å˜æ›´è¯·æ±‚
      - æŸ¥çœ‹æ–‡æ¡£å†å²
    èŒè´£:
      - ç»´æŠ¤å†…å®¹å‡†ç¡®æ€§
      - å“åº”è¯„è®ºåé¦ˆ
      - éµå¾ªç¼–è¾‘è§„èŒƒ
      - è®°å½•å˜æ›´åŸå› 
  
  æ–‡æ¡£å®¡æ ¸è€…:
    æƒé™:
      - å®¡æ ¸æ–‡æ¡£å†…å®¹
      - æ·»åŠ å®¡æ ¸æ„è§
      - æ‰¹å‡†/æ‹’ç»å˜æ›´
      - æŸ¥çœ‹å®¡æ ¸å†å²
    èŒè´£:
      - ç¡®ä¿å†…å®¹è´¨é‡
      - éªŒè¯åˆè§„æ€§
      - æä¾›æ”¹è¿›å»ºè®®
      - ç»´æŠ¤å®¡æ ¸æ ‡å‡†
  
  æ–‡æ¡£æŸ¥çœ‹è€…:
    æƒé™:
      - æŸ¥çœ‹æ–‡æ¡£å†…å®¹
      - æ·»åŠ è¯„è®º
      - ä¸‹è½½æ–‡æ¡£
      - åˆ†äº«æ–‡æ¡£é“¾æ¥
    èŒè´£:
      - éµå®ˆè®¿é—®è§„åˆ™
      - æä¾›ä½¿ç”¨åé¦ˆ
      - æŠ¥å‘Šæ–‡æ¡£é—®é¢˜
      - ä¿æŠ¤æ–‡æ¡£å®‰å…¨
```

#### 1.2 åä½œå·¥ä½œæµ

```mermaid
graph LR
    A[ç¼–è¾‘è€…] -->|æäº¤è‰ç¨¿| B[å®¡æ ¸è€…]
    B -->|å®¡æ ¸é€šè¿‡| C[æ‰€æœ‰è€…]
    B -->|éœ€è¦ä¿®æ”¹| A
    C -->|æ‰¹å‡†å‘å¸ƒ| D[å‘å¸ƒæ–‡æ¡£]
    C -->|æ‹’ç»å‘å¸ƒ| B
    D --> E[æŸ¥çœ‹è€…]
```

### 2. åä½œç®¡ç†æœåŠ¡

```typescript
// services/documentCollaborationService.ts
/**
 * @description æ–‡æ¡£åä½œæœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentCollaborationService {
  /**
   * æ·»åŠ åä½œè€…
   */
  async addCollaborator(documentId: string, collaborator: Collaborator): Promise<void> {
    const document = await this.documentRepository.findById(documentId);
    
    if (!this.canManageCollaborators(document, collaborator.requestedBy)) {
      throw new PermissionError('æ— æƒé™æ·»åŠ åä½œè€…');
    }
    
    await this.collaboratorRepository.add({
      documentId,
      userId: collaborator.userId,
      role: collaborator.role,
      addedAt: new Date(),
      addedBy: collaborator.requestedBy
    });
    
    await this.notificationService.notifyCollaboratorAdded(
      collaborator.userId,
      documentId,
      collaborator.role
    );
  }
  
  /**
   * å¤„ç†åä½œå†²çª
   */
  async resolveCollaborationConflict(conflict: CollaborationConflict): Promise<Resolution> {
    const document = await this.documentRepository.findById(conflict.documentId);
    const changes = conflict.changes;
    
    const resolution = await this.applyConflictResolutionStrategy(
      document,
      changes
    );
    
    if (resolution.requiresManualReview) {
      await this.notifyConflict(conflict);
    } else {
      await this.applyResolution(document, resolution);
    }
    
    return resolution;
  }
  
  /**
   * è·Ÿè¸ªåä½œæ´»åŠ¨
   */
  async trackCollaborationActivity(activity: CollaborationActivity): Promise<void> {
    await this.activityRepository.record({
      documentId: activity.documentId,
      userId: activity.userId,
      action: activity.action,
      details: activity.details,
      timestamp: new Date()
    });
  }
}
```

---

## ğŸ” æ–‡æ¡£è®¿é—®æ§åˆ¶å’Œæƒé™ç®¡ç†

### 1. æƒé™æ¨¡å‹

#### 1.1 æƒé™å±‚çº§

```yaml
æ–‡æ¡£æƒé™å±‚çº§:
  ç³»ç»Ÿçº§æƒé™:
    - æ–‡æ¡£ç³»ç»Ÿç®¡ç†
    - å…¨å±€ç­–ç•¥é…ç½®
    - å®¡è®¡æ—¥å¿—è®¿é—®
    - ç³»ç»Ÿç›‘æ§æŸ¥çœ‹
  
  é¡¹ç›®çº§æƒé™:
    - é¡¹ç›®æ–‡æ¡£ç®¡ç†
    - é¡¹ç›®ç­–ç•¥é…ç½®
    - é¡¹ç›®æˆå‘˜ç®¡ç†
    - é¡¹ç›®æŠ¥å‘ŠæŸ¥çœ‹
  
  æ–‡æ¡£çº§æƒé™:
    - æ–‡æ¡£è¯»å†™æ§åˆ¶
    - æ–‡æ¡£åˆ†äº«ç®¡ç†
    - æ–‡æ¡£è¯„è®ºç®¡ç†
    - æ–‡æ¡£å†å²æŸ¥çœ‹
  
  å†…å®¹çº§æƒé™:
    - ç‰¹å®šç« èŠ‚è®¿é—®
    - æ•æ„Ÿä¿¡æ¯è„±æ•
    - ä»£ç ç¤ºä¾‹è®¿é—®
    - é™„ä»¶ä¸‹è½½æ§åˆ¶
```

#### 1.2 æƒé™ç»§æ‰¿è§„åˆ™

```typescript
// services/documentPermissionService.ts
/**
 * @description æ–‡æ¡£æƒé™æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentPermissionService {
  /**
   * æ£€æŸ¥è®¿é—®æƒé™
   */
  async checkAccess(documentId: string, userId: string, action: string): Promise<boolean> {
    const document = await this.documentRepository.findById(documentId);
    const userPermissions = await this.getUserPermissions(userId);
    
    const documentPermissions = this.getDocumentPermissions(document);
    const effectivePermissions = this.calculateEffectivePermissions(
      userPermissions,
      documentPermissions
    );
    
    return this.hasPermission(effectivePermissions, action);
  }
  
  /**
   * è®¡ç®—æœ‰æ•ˆæƒé™
   */
  private calculateEffectivePermissions(
    userPermissions: Permission[],
    documentPermissions: DocumentPermission[]
  ): Permission[] {
    const permissions = new Set<string>();
    
    for (const perm of userPermissions) {
      if (perm.scope === 'system' || perm.scope === 'project') {
        permissions.add(perm.action);
      }
    }
    
    for (const perm of documentPermissions) {
      if (perm.userId === this.currentUser.id || perm.role === this.currentUser.role) {
        permissions.add(perm.action);
      }
    }
    
    return Array.from(permissions).map(action => ({ action, scope: 'document' }));
  }
  
  /**
   * æˆæƒæ–‡æ¡£è®¿é—®
   */
  async grantAccess(documentId: string, grant: AccessGrant): Promise<void> {
    if (!await this.canGrantAccess(documentId, grant.grantedBy)) {
      throw new PermissionError('æ— æƒé™æˆæƒè®¿é—®');
    }
    
    await this.permissionRepository.grant({
      documentId,
      userId: grant.userId,
      actions: grant.actions,
      grantedBy: grant.grantedBy,
      grantedAt: new Date(),
      expiresAt: grant.expiresAt
    });
  }
}
```

### 2. è®¿é—®æ§åˆ¶ç­–ç•¥

```yaml
è®¿é—®æ§åˆ¶ç­–ç•¥:
  é»˜è®¤ç­–ç•¥:
    - æ–°æ–‡æ¡£: åˆ›å»ºè€…æ‹¥æœ‰å…¨éƒ¨æƒé™
    - é¡¹ç›®æˆå‘˜: é»˜è®¤åªè¯»æƒé™
    - å¤–éƒ¨ç”¨æˆ·: éœ€è¦æ˜¾å¼æˆæƒ
    - æ•æ„Ÿæ–‡æ¡£: éœ€è¦é¢å¤–å®¡æ‰¹
  
  æœ€å°æƒé™åŸåˆ™:
    - ä»…æˆäºˆå¿…è¦æƒé™
    - å®šæœŸå®¡æŸ¥æƒé™
    - åŠæ—¶å›æ”¶æƒé™
    - è®°å½•æƒé™å˜æ›´
  
  æƒé™åˆ†ç¦»åŸåˆ™:
    - åˆ›å»ºä¸å‘å¸ƒåˆ†ç¦»
    - ç¼–è¾‘ä¸å®¡æ ¸åˆ†ç¦»
    - ç®¡ç†ä¸ä½¿ç”¨åˆ†ç¦»
    - å®¡è®¡ä¸æ“ä½œåˆ†ç¦»
  
  æƒé™æ—¶æ•ˆåŸåˆ™:
    - ä¸´æ—¶æƒé™è‡ªåŠ¨è¿‡æœŸ
    - é•¿æœŸæƒé™å®šæœŸå®¡æŸ¥
    - ç¦»èŒæƒé™ç«‹å³å›æ”¶
    - è§’è‰²å˜æ›´æƒé™æ›´æ–°
```

---

## ğŸ” æ–‡æ¡£æœç´¢å’Œæ£€ç´¢æœºåˆ¶

### 1. æœç´¢åŠŸèƒ½

#### 1.1 æœç´¢ç±»å‹

```yaml
æ–‡æ¡£æœç´¢ç±»å‹:
  å…¨æ–‡æœç´¢:
    - å…³é”®è¯åŒ¹é…
    - çŸ­è¯­æœç´¢
    - æ¨¡ç³ŠåŒ¹é…
    - åŒä¹‰è¯æ‰©å±•
  
  ç»“æ„åŒ–æœç´¢:
    - æŒ‰æ–‡æ¡£ç±»å‹
    - æŒ‰æ–‡æ¡£çŠ¶æ€
    - æŒ‰åˆ›å»ºæ—¶é—´
    - æŒ‰ä½œè€…/å›¢é˜Ÿ
  
  è¯­ä¹‰æœç´¢:
    - æ„å›¾ç†è§£
    - æ¦‚å¿µå…³è”
    - ä¸Šä¸‹æ–‡åŒ¹é…
    - æ™ºèƒ½æ¨è
  
  ç»„åˆæœç´¢:
    - å¤šæ¡ä»¶ç»„åˆ
    - å¸ƒå°”é€»è¾‘
    - èŒƒå›´æŸ¥è¯¢
    - è¿‡æ»¤æ’åº
```

#### 1.2 æœç´¢æœåŠ¡

```typescript
// services/documentSearchService.ts
/**
 * @description æ–‡æ¡£æœç´¢æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentSearchService {
  /**
   * æ‰§è¡Œæœç´¢
   */
  async search(query: SearchQuery): Promise<SearchResult> {
    const searchContext = await this.buildSearchContext(query);
    const results = await this.executeSearch(query, searchContext);
    const rankedResults = await this.rankResults(results, query);
    
    return {
      query: query.text,
      total: rankedResults.length,
      results: rankedResults.slice(0, query.limit),
      facets: this.extractFacets(results),
      suggestions: await this.generateSuggestions(query)
    };
  }
  
  /**
   * æ„å»ºæœç´¢ä¸Šä¸‹æ–‡
   */
  private async buildSearchContext(query: SearchQuery): Promise<SearchContext> {
    return {
      user: await this.getUserContext(query.userId),
      project: await this.getProjectContext(query.projectId),
      history: await this.getSearchHistory(query.userId),
      preferences: await this.getUserPreferences(query.userId)
    };
  }
  
  /**
   * æ‰§è¡Œæœç´¢
   */
  private async executeSearch(query: SearchQuery, context: SearchContext): Promise<Document[]> {
    const searchers = [
      this.fullTextSearcher,
      this.semanticSearcher,
      this.structureSearcher
    ];
    
    const results = await Promise.all(
      searchers.map(searcher => searcher.search(query, context))
    );
    
    return this.mergeResults(results);
  }
  
  /**
   * ç»“æœæ’åº
   */
  private async rankResults(results: Document[], query: SearchQuery): Promise<RankedDocument[]> {
    const scores = await Promise.all(
      results.map(doc => this.calculateRelevanceScore(doc, query))
    );
    
    return results
      .map((doc, index) => ({ document: doc, score: scores[index] }))
      .sort((a, b) => b.score - a.score)
      .map(item => item.document);
  }
}
```

### 2. æ£€ç´¢ä¼˜åŒ–

```yaml
æ£€ç´¢ä¼˜åŒ–ç­–ç•¥:
  ç´¢å¼•ä¼˜åŒ–:
    - å»ºç«‹å…¨æ–‡ç´¢å¼•
    - å»ºç«‹ç»“æ„åŒ–ç´¢å¼•
    - å»ºç«‹è¯­ä¹‰ç´¢å¼•
    - å®šæœŸé‡å»ºç´¢å¼•
  
  ç¼“å­˜ä¼˜åŒ–:
    - çƒ­é—¨æŸ¥è¯¢ç¼“å­˜
    - ç»“æœé›†ç¼“å­˜
    - ç´¢å¼•ç¼“å­˜
    - é¢„è®¡ç®—ç»“æœ
  
  æŸ¥è¯¢ä¼˜åŒ–:
    - æŸ¥è¯¢é‡å†™
    - æŸ¥è¯¢ç®€åŒ–
    - æŸ¥è¯¢å¹¶è¡Œ
    - æŸ¥è¯¢æ‰¹å¤„ç†
  
  æ€§èƒ½ä¼˜åŒ–:
    - åˆ†é¡µåŠ è½½
    - å»¶è¿ŸåŠ è½½
    - é¢„åŠ è½½
    - å¢é‡æ›´æ–°
```

---

## ğŸ’¬ æ–‡æ¡£åé¦ˆå’Œè¯„ä»·æœºåˆ¶

### 1. åé¦ˆæ”¶é›†

#### 1.1 åé¦ˆç±»å‹

```yaml
æ–‡æ¡£åé¦ˆç±»å‹:
  å†…å®¹åé¦ˆ:
    - å†…å®¹å‡†ç¡®æ€§
    - å†…å®¹å®Œæ•´æ€§
    - å†…å®¹æ—¶æ•ˆæ€§
    - å†…å®¹ç›¸å…³æ€§
  
  ç»“æ„åé¦ˆ:
    - ç»“æ„æ¸…æ™°åº¦
    - é€»è¾‘è¿è´¯æ€§
    - æ ¼å¼ä¸€è‡´æ€§
    - å¯è¯»æ€§
  
  ä½“éªŒåé¦ˆ:
    - æ˜“ç”¨æ€§
    - å¯è®¿é—®æ€§
    - å¯¼èˆªä½“éªŒ
    - æœç´¢ä½“éªŒ
  
  å»ºè®®åé¦ˆ:
    - æ”¹è¿›å»ºè®®
    - åŠŸèƒ½éœ€æ±‚
    - æ–°å¢å†…å®¹
    - ä¼˜åŒ–æ–¹å‘
```

#### 1.2 åé¦ˆæœåŠ¡

```typescript
// services/documentFeedbackService.ts
/**
 * @description æ–‡æ¡£åé¦ˆæœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentFeedbackService {
  /**
   * æäº¤åé¦ˆ
   */
  async submitFeedback(feedback: DocumentFeedback): Promise<void> {
    const document = await this.documentRepository.findById(feedback.documentId);
    
    await this.feedbackRepository.save({
      id: generateUUID(),
      documentId: feedback.documentId,
      userId: feedback.userId,
      type: feedback.type,
      content: feedback.content,
      rating: feedback.rating,
      submittedAt: new Date(),
      status: 'pending'
    });
    
    await this.notifyDocumentOwner(document, feedback);
    await this.updateDocumentMetrics(document.id);
  }
  
  /**
   * åˆ†æåé¦ˆ
   */
  async analyzeFeedback(documentId: string): Promise<FeedbackAnalysis> {
    const feedbacks = await this.feedbackRepository.findByDocumentId(documentId);
    
    return {
      documentId,
      totalFeedbacks: feedbacks.length,
      averageRating: this.calculateAverageRating(feedbacks),
      ratingDistribution: this.calculateRatingDistribution(feedbacks),
      commonIssues: this.extractCommonIssues(feedbacks),
      suggestions: this.extractSuggestions(feedbacks),
      trend: await this.getFeedbackTrend(documentId)
    };
  }
  
  /**
   * å¤„ç†åé¦ˆ
   */
  async processFeedback(feedbackId: string, action: FeedbackAction): Promise<void> {
    const feedback = await this.feedbackRepository.findById(feedbackId);
    
    feedback.status = 'processed';
    feedback.action = action;
    feedback.processedAt = new Date();
    feedback.processedBy = action.processedBy;
    
    await this.feedbackRepository.update(feedback);
    await this.notifyFeedbackSubmitter(feedback, action);
  }
}
```

### 2. è¯„ä»·æœºåˆ¶

```yaml
æ–‡æ¡£è¯„ä»·æœºåˆ¶:
  è¯„ä»·ç»´åº¦:
    - å†…å®¹è´¨é‡: 0-5æ˜Ÿ
    - ç»“æ„è´¨é‡: 0-5æ˜Ÿ
    - å®ç”¨æ€§: 0-5æ˜Ÿ
    - æ˜“ç”¨æ€§: 0-5æ˜Ÿ
  
  è¯„ä»·æµç¨‹:
    - ç”¨æˆ·é˜…è¯»æ–‡æ¡£
    - ç”¨æˆ·æäº¤è¯„ä»·
    - ç³»ç»Ÿè®°å½•è¯„ä»·
    - ç³»ç»Ÿè®¡ç®—å¹³å‡åˆ†
    - ç³»ç»Ÿæ›´æ–°æ–‡æ¡£è¯„åˆ†
  
  è¯„ä»·å±•ç¤º:
    - æ˜¾ç¤ºå¹³å‡è¯„åˆ†
    - æ˜¾ç¤ºè¯„åˆ†åˆ†å¸ƒ
    - æ˜¾ç¤ºè¯„ä»·æ•°é‡
    - æ˜¾ç¤ºç”¨æˆ·è¯„ä»·
  
  è¯„ä»·æ¿€åŠ±:
    - è¯„ä»·ç§¯åˆ†å¥–åŠ±
    - ä¼˜è´¨è¯„ä»·å±•ç¤º
    - è¯„ä»·æ’è¡Œæ¦œ
    - è¯„ä»·å¾½ç« 
```

---

## ğŸ”„ æ–‡æ¡£è¿ç§»å’Œè½¬æ¢æœºåˆ¶

### 1. æ–‡æ¡£è¿ç§»

#### 1.1 è¿ç§»åœºæ™¯

```yaml
æ–‡æ¡£è¿ç§»åœºæ™¯:
  å¹³å°è¿ç§»:
    - ä»æ—§å¹³å°è¿ç§»åˆ°æ–°å¹³å°
    - ä»æœ¬åœ°è¿ç§»åˆ°äº‘ç«¯
    - ä»è‡ªå»ºè¿ç§»åˆ°æ‰˜ç®¡
  
  æ ¼å¼è¿ç§»:
    - Markdownè½¬HTML
    - Wordè½¬Markdown
    - PDFè½¬Markdown
    - HTMLè½¬PDF
  
  ç‰ˆæœ¬è¿ç§»:
    - æ–‡æ¡£ç‰ˆæœ¬å‡çº§
    - æ¨¡æ¿ç‰ˆæœ¬è¿ç§»
    - æ•°æ®ç»“æ„è¿ç§»
    - å…ƒæ•°æ®è¿ç§»
  
  ç»„ç»‡è¿ç§»:
    - é¡¹ç›®é‡ç»„è¿ç§»
    - å›¢é˜Ÿè°ƒæ•´è¿ç§»
    - æƒé™ä½“ç³»è¿ç§»
    - åˆ†ç±»ä½“ç³»è¿ç§»
```

#### 1.2 è¿ç§»æœåŠ¡

```typescript
// services/documentMigrationService.ts
/**
 * @description æ–‡æ¡£è¿ç§»æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentMigrationService {
  /**
   * æ‰§è¡Œè¿ç§»
   */
  async migrate(migration: DocumentMigration): Promise<MigrationResult> {
    const migrationPlan = await this.createMigrationPlan(migration);
    const validation = await this.validateMigration(migrationPlan);
    
    if (!validation.isValid) {
      throw new MigrationError('è¿ç§»éªŒè¯å¤±è´¥', validation.errors);
    }
    
    const result = await this.executeMigration(migrationPlan);
    await this.verifyMigration(result);
    
    return result;
  }
  
  /**
   * åˆ›å»ºè¿ç§»è®¡åˆ’
   */
  private async createMigrationPlan(migration: DocumentMigration): Promise<MigrationPlan> {
    const sourceDocuments = await this.getSourceDocuments(migration.source);
    const targetStructure = await this.getTargetStructure(migration.target);
    
    return {
      migrationId: generateUUID(),
      source: migration.source,
      target: migration.target,
      documents: sourceDocuments.map(doc => ({
        sourceId: doc.id,
        targetPath: this.calculateTargetPath(doc, targetStructure),
        transformations: this.determineTransformations(doc, migration)
      })),
      estimatedTime: this.estimateTime(sourceDocuments),
      riskLevel: this.assessRisk(migration)
    };
  }
  
  /**
   * æ‰§è¡Œè¿ç§»
   */
  private async executeMigration(plan: MigrationPlan): Promise<MigrationResult> {
    const results: MigrationDocumentResult[] = [];
    
    for (const doc of plan.documents) {
      try {
        const sourceDoc = await this.sourceRepository.findById(doc.sourceId);
        const transformed = await this.applyTransformations(sourceDoc, doc.transformations);
        const targetDoc = await this.targetRepository.save(transformed);
        
        results.push({
          sourceId: doc.sourceId,
          targetId: targetDoc.id,
          status: 'success',
          migratedAt: new Date()
        });
      } catch (error) {
        results.push({
          sourceId: doc.sourceId,
          targetId: null,
          status: 'failed',
          error: error.message,
          migratedAt: new Date()
        });
      }
    }
    
    return {
      migrationId: plan.migrationId,
      totalDocuments: plan.documents.length,
      successCount: results.filter(r => r.status === 'success').length,
      failureCount: results.filter(r => r.status === 'failed').length,
      documents: results,
      completedAt: new Date()
    };
  }
}
```

### 2. æ–‡æ¡£è½¬æ¢

```yaml
æ–‡æ¡£è½¬æ¢è§„åˆ™:
  æ ¼å¼è½¬æ¢:
    - Markdown â†” HTML
    - Markdown â†” PDF
    - Word â†” Markdown
    - HTML â†” PDF
  
  å†…å®¹è½¬æ¢:
    - ä»£ç é«˜äº®è½¬æ¢
    - å›¾ç‰‡æ ¼å¼è½¬æ¢
    - è¡¨æ ¼æ ¼å¼è½¬æ¢
    - é“¾æ¥æ ¼å¼è½¬æ¢
  
  ç»“æ„è½¬æ¢:
    - æ ‡é¢˜å±‚çº§è½¬æ¢
    - åˆ—è¡¨æ ¼å¼è½¬æ¢
    - å¼•ç”¨æ ¼å¼è½¬æ¢
    - ä»£ç å—æ ¼å¼è½¬æ¢
  
  å…ƒæ•°æ®è½¬æ¢:
    - æ–‡æ¡£å±æ€§è½¬æ¢
    - æ ‡ç­¾ä½“ç³»è½¬æ¢
    - åˆ†ç±»ä½“ç³»è½¬æ¢
    - ç‰ˆæœ¬ä¿¡æ¯è½¬æ¢
```

---

## ğŸŒ æ–‡æ¡£å›½é™…åŒ–æ”¯æŒ

### 1. å¤šè¯­è¨€ç®¡ç†

#### 1.1 è¯­è¨€æ”¯æŒ

```yaml
æ”¯æŒè¯­è¨€:
  ä¸»è¦è¯­è¨€:
    - ä¸­æ–‡: zh-CN
    - è‹±æ–‡: en-US
  
  æ‰©å±•è¯­è¨€:
    - æ—¥æ–‡: ja-JP
    - éŸ©æ–‡: ko-KR
    - æ³•æ–‡: fr-FR
    - å¾·æ–‡: de-DE
  
  è¯­è¨€ç‰¹æ€§:
    - æ–‡æœ¬æ–¹å‘: LTR/RTL
    - å­—ç¬¦ç¼–ç : UTF-8
    - æ—¥æœŸæ ¼å¼: æœ¬åœ°åŒ–
    - æ•°å­—æ ¼å¼: æœ¬åœ°åŒ–
```

#### 1.2 å›½é™…åŒ–æœåŠ¡

```typescript
// services/documentI18nService.ts
/**
 * @description æ–‡æ¡£å›½é™…åŒ–æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentI18nService {
  /**
   * åˆ›å»ºç¿»è¯‘
   */
  async createTranslation(documentId: string, targetLanguage: string): Promise<Translation> {
    const document = await this.documentRepository.findById(documentId);
    const translation = await this.translationService.translate(
      document.content,
      'zh-CN',
      targetLanguage
    );
    
    const translatedDocument = {
      ...document,
      id: generateUUID(),
      language: targetLanguage,
      sourceDocumentId: documentId,
      content: translation,
      translatedAt: new Date()
    };
    
    await this.documentRepository.save(translatedDocument);
    await this.linkDocuments(documentId, translatedDocument.id);
    
    return {
      sourceDocumentId: documentId,
      targetDocumentId: translatedDocument.id,
      sourceLanguage: 'zh-CN',
      targetLanguage,
      translatedAt: new Date()
    };
  }
  
  /**
   * åŒæ­¥ç¿»è¯‘æ›´æ–°
   */
  async syncTranslation(sourceDocumentId: string): Promise<void> {
    const sourceDocument = await this.documentRepository.findById(sourceDocumentId);
    const translations = await this.getTranslations(sourceDocumentId);
    
    for (const translation of translations) {
      const updatedTranslation = await this.translationService.translate(
        sourceDocument.content,
        'zh-CN',
        translation.language
      );
      
      await this.documentRepository.update(translation.documentId, {
        content: updatedTranslation,
        translatedAt: new Date()
      });
    }
  }
  
  /**
   * æ£€æµ‹è¯­è¨€
   */
  async detectLanguage(content: string): Promise<string> {
    return await this.languageDetector.detect(content);
  }
}
```

### 2. æœ¬åœ°åŒ–é€‚é…

```yaml
æœ¬åœ°åŒ–é€‚é…:
  æ—¥æœŸæ—¶é—´:
    - æ—¥æœŸæ ¼å¼æœ¬åœ°åŒ–
    - æ—¶é—´æ ¼å¼æœ¬åœ°åŒ–
    - æ—¶åŒºå¤„ç†
    - æ—¥å†ç³»ç»Ÿ
  
  æ•°å­—è´§å¸:
    - æ•°å­—æ ¼å¼æœ¬åœ°åŒ–
    - è´§å¸ç¬¦å·æœ¬åœ°åŒ–
    - å°æ•°ç‚¹å¤„ç†
    - åƒåˆ†ä½å¤„ç†
  
  æ–‡åŒ–é€‚é…:
    - é¢œè‰²å«ä¹‰
    - å›¾æ ‡å«ä¹‰
    - æ’ç‰ˆè§„åˆ™
    - é˜…è¯»ä¹ æƒ¯
  
  æ³•å¾‹åˆè§„:
    - éšç§æ”¿ç­–
    - æ•°æ®ä¿æŠ¤
    - å†…å®¹å®¡æŸ¥
    - è®¸å¯è¯
```

---

## âš¡ æ–‡æ¡£æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–

### 1. æ€§èƒ½ç›‘æ§

#### 1.1 ç›‘æ§æŒ‡æ ‡

```yaml
æ–‡æ¡£æ€§èƒ½ç›‘æ§æŒ‡æ ‡:
  è®¿é—®æ€§èƒ½:
    - æ–‡æ¡£åŠ è½½æ—¶é—´
    - æ–‡æ¡£æ¸²æŸ“æ—¶é—´
    - æœç´¢å“åº”æ—¶é—´
    - é¡µé¢åˆ‡æ¢æ—¶é—´
  
  ç³»ç»Ÿæ€§èƒ½:
    - CPUä½¿ç”¨ç‡
    - å†…å­˜ä½¿ç”¨ç‡
    - ç£ç›˜I/O
    - ç½‘ç»œå¸¦å®½
  
  ä¸šåŠ¡æ€§èƒ½:
    - æ–‡æ¡£è®¿é—®é‡
    - æœç´¢æŸ¥è¯¢é‡
    - ç”¨æˆ·æ´»è·ƒåº¦
    - è½¬åŒ–ç‡
  
  é”™è¯¯ç›‘æ§:
    - é”™è¯¯ç‡
    - é”™è¯¯ç±»å‹
    - é”™è¯¯åˆ†å¸ƒ
    - é”™è¯¯è¶‹åŠ¿
```

#### 1.2 ç›‘æ§æœåŠ¡

```typescript
// services/documentMonitoringService.ts
/**
 * @description æ–‡æ¡£ç›‘æ§æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentMonitoringService {
  /**
   * æ”¶é›†æ€§èƒ½æŒ‡æ ‡
   */
  async collectMetrics(): Promise<PerformanceMetrics> {
    const accessMetrics = await this.collectAccessMetrics();
    const systemMetrics = await this.collectSystemMetrics();
    const businessMetrics = await this.collectBusinessMetrics();
    const errorMetrics = await this.collectErrorMetrics();
    
    return {
      timestamp: new Date(),
      access: accessMetrics,
      system: systemMetrics,
      business: businessMetrics,
      errors: errorMetrics
    };
  }
  
  /**
   * åˆ†ææ€§èƒ½è¶‹åŠ¿
   */
  async analyzePerformanceTrend(timeRange: TimeRange): Promise<PerformanceTrend> {
    const metrics = await this.getMetricsInRange(timeRange);
    
    return {
      timeRange,
      accessTrend: this.calculateTrend(metrics.map(m => m.access)),
      systemTrend: this.calculateTrend(metrics.map(m => m.system)),
      businessTrend: this.calculateTrend(metrics.map(m => m.business)),
      errorTrend: this.calculateTrend(metrics.map(m => m.errors)),
      recommendations: this.generateOptimizationRecommendations(metrics)
    };
  }
  
  /**
   * æ£€æµ‹æ€§èƒ½å¼‚å¸¸
   */
  async detectAnomalies(): Promise<Anomaly[]> {
    const currentMetrics = await this.collectMetrics();
    const baseline = await this.getBaselineMetrics();
    const anomalies: Anomaly[] = [];
    
    if (this.isAnomaly(currentMetrics.access.loadTime, baseline.access.loadTime)) {
      anomalies.push({
        type: 'performance',
        metric: 'loadTime',
        currentValue: currentMetrics.access.loadTime,
        baselineValue: baseline.access.loadTime,
        severity: 'high'
      });
    }
    
    return anomalies;
  }
}
```

### 2. æ€§èƒ½ä¼˜åŒ–

```yaml
æ€§èƒ½ä¼˜åŒ–ç­–ç•¥:
  ç¼“å­˜ä¼˜åŒ–:
    - æ–‡æ¡£å†…å®¹ç¼“å­˜
    - æœç´¢ç»“æœç¼“å­˜
    - å›¾ç‰‡èµ„æºç¼“å­˜
    - APIå“åº”ç¼“å­˜
  
  åŠ è½½ä¼˜åŒ–:
    - æ‡’åŠ è½½
    - é¢„åŠ è½½
    - åˆ†ç‰‡åŠ è½½
    - å¢é‡åŠ è½½
  
  æ¸²æŸ“ä¼˜åŒ–:
    - è™šæ‹Ÿæ»šåŠ¨
    - æŒ‰éœ€æ¸²æŸ“
    - ç¦»å±æ¸²æŸ“
    - GPUåŠ é€Ÿ
  
  ç½‘ç»œä¼˜åŒ–:
    - CDNåŠ é€Ÿ
    - å‹ç¼©ä¼ è¾“
    - HTTP/2
    - è¿æ¥å¤ç”¨
```

---

## ğŸ”’ æ–‡æ¡£å®‰å…¨å’Œåˆè§„ç®¡ç†

### 1. å®‰å…¨ç®¡ç†

#### 1.1 å®‰å…¨æªæ–½

```yaml
æ–‡æ¡£å®‰å…¨æªæ–½:
  è®¿é—®å®‰å…¨:
    - èº«ä»½è®¤è¯
    - æƒé™æ§åˆ¶
    - ä¼šè¯ç®¡ç†
    - å•ç‚¹ç™»å½•
  
  æ•°æ®å®‰å…¨:
    - æ•°æ®åŠ å¯†
    - ä¼ è¾“åŠ å¯†
    - å­˜å‚¨åŠ å¯†
    - å¯†é’¥ç®¡ç†
  
  å†…å®¹å®‰å…¨:
    - æ•æ„Ÿä¿¡æ¯è„±æ•
    - å†…å®¹è¿‡æ»¤
    - æ¶æ„ä»£ç æ£€æµ‹
    - ç—…æ¯’æ‰«æ
  
  å®¡è®¡å®‰å…¨:
    - æ“ä½œæ—¥å¿—
    - è®¿é—®æ—¥å¿—
    - å¼‚å¸¸æ£€æµ‹
    - å®‰å…¨å®¡è®¡
```

#### 1.2 å®‰å…¨æœåŠ¡

```typescript
// services/documentSecurityService.ts
/**
 * @description æ–‡æ¡£å®‰å…¨æœåŠ¡
 * @project æ™ºæ¢æœåŠ¡åŒ–å¹³å°
 */
export class DocumentSecurityService {
  /**
   * åŠ å¯†æ–‡æ¡£
   */
  async encryptDocument(documentId: string): Promise<void> {
    const document = await this.documentRepository.findById(documentId);
    const encryptionKey = await this.keyManager.getEncryptionKey();
    
    const encryptedContent = await this.cryptoService.encrypt(
      document.content,
      encryptionKey
    );
    
    await this.documentRepository.update(documentId, {
      content: encryptedContent,
      encrypted: true,
      encryptedAt: new Date()
    });
  }
  
  /**
   * è§£å¯†æ–‡æ¡£
   */
  async decryptDocument(documentId: string): Promise<string> {
    const document = await this.documentRepository.findById(documentId);
    
    if (!document.encrypted) {
      return document.content;
    }
    
    const encryptionKey = await this.keyManager.getEncryptionKey();
    return await this.cryptoService.decrypt(document.content, encryptionKey);
  }
  
  /**
   * æ‰«ææ•æ„Ÿä¿¡æ¯
   */
  async scanSensitiveInfo(documentId: string): Promise<SensitiveInfoScanResult> {
    const document = await this.documentRepository.findById(documentId);
    const content = document.content;
    
    const sensitivePatterns = [
      /(\d{4}-\d{4}-\d{4}-\d{4})/g,
      /(\d{3}-\d{2}-\d{4})/g,
      /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g
    ];
    
    const findings: SensitiveInfoFinding[] = [];
    
    for (const pattern of sensitivePatterns) {
      const matches = content.match(pattern);
      if (matches) {
        findings.push({
          type: this.detectPatternType(pattern),
          count: matches.length,
          samples: matches.slice(0, 5)
        });
      }
    }
    
    return {
      documentId,
      scannedAt: new Date(),
      hasSensitiveInfo: findings.length > 0,
      findings
    };
  }
}
```

### 2. åˆè§„ç®¡ç†

```yaml
åˆè§„ç®¡ç†è¦æ±‚:
  æ•°æ®ä¿æŠ¤:
    - GDPRåˆè§„
    - æ•°æ®æœ€å°åŒ–
    - æ•°æ®ä¿ç•™ç­–ç•¥
    - æ•°æ®åˆ é™¤æƒ
  
  çŸ¥è¯†äº§æƒ:
    - ç‰ˆæƒå£°æ˜
    - è®¸å¯è¯ç®¡ç†
    - ç¬¬ä¸‰æ–¹å†…å®¹
    - å¼€æºåˆè§„
  
  è¡Œä¸šæ ‡å‡†:
    - ISO 27001
    - SOC 2
    - HIPAA
    - PCI DSS
  
  å®¡è®¡è¦æ±‚:
    - å®¡è®¡æ—¥å¿—
    - å®¡è®¡æŠ¥å‘Š
    - åˆè§„æ£€æŸ¥
    - æ•´æ”¹è·Ÿè¸ª
```

---

æœ¬æ–‡æ¡£ä½œä¸ºYYC3æ™ºèƒ½ç¼–ç¨‹é¡¹ç›®æ–‡æ¡£ä½“ç³»çš„å…¥å£ï¼Œå°†éšç€é¡¹ç›®çš„æ¨è¿›æŒç»­æ›´æ–°ã€‚è¯·æ‰€æœ‰å‚ä¸ä»£ç æ–‡æ¡£ç¼–å†™çš„æˆå‘˜/å¯¼å¸ˆä¸¥æ ¼éµå¾ªæ–‡æ¡£è§„èŒƒï¼Œå…±åŒç»´æŠ¤æ–‡æ¡£ä½“ç³»çš„å®Œæ•´æ€§å’Œå‡†ç¡®æ€§ï¼ ğŸŒ¹

---

> ã€Œ***YanYuCloudCube***ã€
> ã€Œ***<admin@0379.email>***ã€
> ã€Œ***Words Initiate Quadrants, Language Serves as Core for the Future***ã€
> ã€Œ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***ã€
