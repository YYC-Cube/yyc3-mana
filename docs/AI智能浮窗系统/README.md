# YYCÂ³ AIæ™ºèƒ½æµ®çª—ç³»ç»Ÿ

> æ™ºèƒ½æ’æ‹”å¼å¯ç§»åŠ¨AIç³»ç»Ÿ Â· åŸºäºäº”æ ‡äº”é«˜äº”åŒ–è®¾è®¡åŸåˆ™

## ğŸ“– ç®€ä»‹

YYCÂ³ AIæ™ºèƒ½æµ®çª—ç³»ç»Ÿæ˜¯ä¸€ä¸ªä¼ä¸šçº§çš„æ™ºèƒ½AIäº¤äº’è§£å†³æ–¹æ¡ˆï¼Œæä¾›å¯æ’æ‹”ã€å¯ç§»åŠ¨ã€å¯å®šåˆ¶çš„AIåŠ©æ‰‹åŠŸèƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨äº‹ä»¶é©±åŠ¨+ç›®æ ‡é©±åŠ¨çš„æ··åˆæ¶æ„ï¼Œæ”¯æŒå¤šæ¨¡å‹åˆ‡æ¢ã€å·¥å…·ç¼–æ’ã€çŸ¥è¯†åº“æ¥å…¥ç­‰é«˜çº§ç‰¹æ€§ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ§  æ™ºèƒ½è‡ªæ²»å¼•æ“ (AgenticCore)

- **ç›®æ ‡é©±åŠ¨**: è‡ªåŠ¨åˆ†è§£å¤æ‚ä»»åŠ¡ä¸ºå¯æ‰§è¡Œå­ä»»åŠ¡
- **æ™ºèƒ½è§„åˆ’**: æ”¯æŒBFSã€DFSã€A*ç­‰å¤šç§è§„åˆ’ç­–ç•¥
- **è‡ªä¸»æ‰§è¡Œ**: åŠ¨æ€è°ƒåº¦å’Œæ‰§è¡Œä»»åŠ¡æµç¨‹
- **åæ€å­¦ä¹ **: ä»»åŠ¡å®Œæˆåè‡ªåŠ¨åæ€å’Œä¼˜åŒ–
- **æŒç»­å­¦ä¹ **: ä»å†å²æ‰§è¡Œä¸­ç§¯ç´¯ç»éªŒ

### ğŸ¨ å¯æ‹–æ‹½UIç»„ä»¶

- **è‡ªç”±ç§»åŠ¨**: é¼ æ ‡æ‹–æ‹½åˆ°ä»»æ„ä½ç½®
- **å¼¹æ€§è°ƒæ•´**: è‡ªå®šä¹‰çª—å£å¤§å°
- **æœ€å°åŒ–/æœ€å¤§åŒ–**: çµæ´»çš„çª—å£æ§åˆ¶
- **å“åº”å¼è®¾è®¡**: é€‚é…å„ç§å±å¹•å°ºå¯¸
- **å¿«æ·é”®æ”¯æŒ**: Ctrl/Cmd + K å¿«é€Ÿå”¤èµ·

### ğŸ¤– å¤šæ¨¡å‹æ”¯æŒ

- **æ™ºè°±GLMç³»åˆ—**: GLM-4-Flashã€GLM-4-Plusã€GLM-4V
- **é˜¿é‡Œé€šä¹‰åƒé—®**: é€šä¹‰åƒé—®Maxã€Plusç­‰
- **ç™¾åº¦æ–‡å¿ƒä¸€è¨€**: æ–‡å¿ƒä¸€è¨€4.0ã€3.5ç­‰
- **Ollamaæœ¬åœ°æ¨¡å‹**: Llama 3ã€Mistralç­‰
- **LM Studio**: æ”¯æŒæœ¬åœ°ç§æœ‰åŒ–éƒ¨ç½²

### ğŸ”Œ å¯æ’æ‹”æ¶æ„

- **å·¥å…·æ³¨å†Œä¸­å¿ƒ**: åŠ¨æ€æ³¨å†Œå’Œå‘ç°å·¥å…·
- **çŸ¥è¯†åº“æ¥å…¥**: æ”¯æŒå‘é‡æœç´¢å’ŒRAG
- **æ¨¡å‹é€‚é…å™¨**: ç»Ÿä¸€çš„æ¨¡å‹è°ƒç”¨æ¥å£
- **èƒ½åŠ›æ‰©å±•**: è½»æ¾æ·»åŠ æ–°åŠŸèƒ½æ¨¡å—

## ğŸ¯ ç³»ç»Ÿæ¶æ„å‡çº§ (v1.1.0)

### æ–°å¢æ ¸å¿ƒç»„ä»¶

#### 1. **æ¶ˆæ¯æ€»çº¿ç³»ç»Ÿ (MessageBus)**

- âœ… å‘å¸ƒ-è®¢é˜…æ¨¡å¼
- âœ… ä¼˜å…ˆçº§é˜Ÿåˆ—
- âœ… é‡è¯•æœºåˆ¶ï¼ˆæŒ‡æ•°é€€é¿ï¼‰
- âœ… æ­»ä¿¡é˜Ÿåˆ—
- âœ… æ¶ˆæ¯æŒä¹…åŒ–

#### 2. **ä»»åŠ¡è°ƒåº¦å™¨ (TaskScheduler)**

- âœ… ä¼˜å…ˆçº§è°ƒåº¦
- âœ… å¹¶å‘æ§åˆ¶ï¼ˆå¯é…ç½®ï¼‰
- âœ… è¶…æ—¶ç®¡ç†
- âœ… ä¾èµ–è§£æ
- âœ… ä»»åŠ¡å–æ¶ˆ

#### 3. **çŠ¶æ€ç®¡ç†å™¨ (StateManager)**

- âœ… çŠ¶æ€å¿«ç…§
- âœ… å†å²å›æº¯ï¼ˆæ’¤é”€/é‡åšï¼‰
- âœ… è‡ªåŠ¨æŒä¹…åŒ–
- âœ… æ ¡éªŒå’ŒéªŒè¯
- âœ… è®¡æ•°å™¨ç®¡ç†

#### 4. **å·¥å…·ç¼–æ’å¼•æ“ (ToolOrchestrator)**

- âœ… å·¥å…·æ³¨å†Œä¸å‘ç°
- âœ… å‚æ•°éªŒè¯
- âœ… ä¾èµ–åˆ†æ
- âœ… å¹¶å‘æ‰§è¡Œ
- âœ… æ€§èƒ½ç»Ÿè®¡

#### 5. **æ¨¡å‹è·¯ç”±å™¨ (ModelRouter)**

- âœ… æ™ºèƒ½æ¨¡å‹é€‰æ‹©
- âœ… æˆæœ¬ä¼˜åŒ–
- âœ… è´Ÿè½½å‡è¡¡
- âœ… æ•…éšœè½¬ç§»
- âœ… æ€§èƒ½ç›‘æ§

#### 6. **é«˜çº§æ‹–æ‹½ç³»ç»Ÿ (AdvancedDragSystem)**

- âœ… æƒ¯æ€§æ¨¡æ‹Ÿ
- âœ… ç£æ€§å¸é™„
- âœ… è¾¹ç•Œçº¦æŸ
- âœ… ç½‘æ ¼å¯¹é½
- âœ… å¤šæŒ‡è§¦æ§

#### 7. **ç›®æ ‡ç®¡ç†ç³»ç»Ÿ (GoalManagementSystem)** âœ¨NEW

- âœ… ç›®æ ‡ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆ8é˜¶æ®µï¼‰
- âœ… SMARTç›®æ ‡éªŒè¯
- âœ… OKRæ¡†æ¶æ”¯æŒ
- âœ… è¿›åº¦è¿½è¸ªä¸é‡Œç¨‹ç¢‘
- âœ… é£é™©è¯†åˆ«ä¸ç¼“è§£
- âœ… ä»·å€¼è¯„ä¼°ä¸ROIåˆ†æ
- âœ… åä½œä¸å¯¹é½æ£€æŸ¥

#### 8. **æŠ€æœ¯æˆç†Ÿåº¦æ¨¡å‹ (TechnicalMaturityModel)** âœ¨NEW

- âœ… äº”çº§æˆç†Ÿåº¦è¯„ä¼°ï¼ˆCMMIé£æ ¼ï¼‰
- âœ… 8ç»´åº¦è¯„ä¼°ä½“ç³»
- âœ… è‡ªåŠ¨åŒ–è¯„åˆ†å¼•æ“
- âœ… å·®è·åˆ†æ
- âœ… æ”¹è¿›è·¯çº¿å›¾è§„åˆ’
- âœ… è¡Œä¸šåŸºå‡†å¯¹æ¯”
- âœ… è¶‹åŠ¿åˆ†æ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` åˆ° `.env.local` å¹¶é…ç½®ï¼š

```bash
# æ™ºè°±AI
ZHIPU_API_KEY=your_zhipu_api_key

# é˜¿é‡Œäº‘é€šä¹‰åƒé—®
ALIBABA_API_KEY=your_alibaba_api_key

# ç™¾åº¦æ–‡å¿ƒä¸€è¨€
BAIDU_API_KEY=your_baidu_api_key
BAIDU_SECRET_KEY=your_baidu_secret_key

# Ollamaæœ¬åœ°æ¨¡å‹ (å¯é€‰)
OLLAMA_BASE_URL=http://localhost:11434
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
pnpm dev
```

è®¿é—® <http://localhost:3000/ai-floating-demo> æŸ¥çœ‹æ¼”ç¤ºé¡µé¢ã€‚

## ğŸ’» ä½¿ç”¨æ–¹æ³•

### æ–¹å¼ä¸€ï¼šå…¨å±€é›†æˆï¼ˆæ¨èï¼‰

AIæµ®çª—å·²é»˜è®¤é›†æˆåœ¨ä¸»åº”ç”¨å¸ƒå±€ä¸­ï¼Œå…¨å±€å¯ç”¨ï¼š

```tsx
// app/layout.tsx (å·²é…ç½®)
import { AIWidgetProvider } from '@/components/ai-floating-widget';

export default function RootLayout({ children }) {
  return (
    <AIWidgetProvider autoInit={true}>
      {children}
    </AIWidgetProvider>
  );
}
```

**å¿«æ·é”®**: æŒ‰ `Ctrl/Cmd + K` å³å¯åœ¨ä»»æ„é¡µé¢å”¤èµ·AIåŠ©æ‰‹ã€‚

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨é›†æˆ

åœ¨éœ€è¦çš„é¡µé¢ä¸­ä½¿ç”¨ Hookï¼š

```tsx
'use client';

import { useAIWidget, AIWidgetTrigger } from '@/components/ai-floating-widget';

export default function MyPage() {
  const { showWidget, hideWidget, toggleWidget } = useAIWidget();
  
  return (
    <div>
      <button onClick={showWidget}>æ‰“å¼€AIåŠ©æ‰‹</button>
      {/* æˆ–ä½¿ç”¨é¢„åˆ¶æŒ‰é’® */}
      <AIWidgetTrigger className="btn btn-primary" />
    </div>
  );
}
```

### æ–¹å¼ä¸‰ï¼šç‹¬ç«‹ä½¿ç”¨

åˆ›å»ºè‡ªå·±çš„AgenticCoreå®ä¾‹ï¼š

```tsx
'use client';

import { useState, useEffect } from 'react';
import { AgenticCore, type AgentConfig } from '@/lib/agentic-core';
import { IntelligentAIWidget } from '@/components/ai-floating-widget';

export default function CustomPage() {
  const [agenticCore, setAgenticCore] = useState<AgenticCore | null>(null);

  useEffect(() => {
    const config: AgentConfig = {
      agentId: 'custom-agent',
      name: 'è‡ªå®šä¹‰AIåŠ©æ‰‹',
      goalConfig: {
        maxGoalDepth: 5,
        goalTimeout: 30000,
        priorityWeights: { urgency: 0.4, importance: 0.3, complexity: 0.3 }
      },
      planningConfig: {
        maxPlanSteps: 10,
        planningStrategy: 'astar',
        replanningThreshold: 0.7
      },
      toolConfig: {
        enabledTools: ['search', 'calculator'],
        toolTimeout: 10000,
        maxConcurrentTools: 3
      },
      reflectionConfig: {
        enableReflection: true,
        reflectionInterval: 5000,
        learningRate: 0.01
      },
      knowledgeConfig: {
        enableKnowledgeBase: false
      },
      contextConfig: {
        maxHistoryLength: 50,
        contextWindow: 4096,
        persistContext: true
      },
      learningConfig: {
        enableLearning: true,
        learningStrategy: 'hybrid',
        feedbackThreshold: 0.8
      }
    };

    const core = new AgenticCore(config);
    setAgenticCore(core);

    return () => core.destroy();
  }, []);

  return (
    <div>
      {agenticCore && (
        <IntelligentAIWidget 
          agenticCore={agenticCore}
          onClose={() => console.log('Widget closed')}
        />
      )}
    </div>
  );
}
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ ¸å¿ƒæ¨¡å—

```
lib/
â”œâ”€â”€ agentic-core/              # æ™ºèƒ½è‡ªæ²»å¼•æ“
â”‚   â”œâ”€â”€ AgenticCore.ts         # æ ¸å¿ƒå¼•æ“ç±»
â”‚   â”œâ”€â”€ MessageBus.ts          # æ¶ˆæ¯æ€»çº¿ âœ¨NEW
â”‚   â”œâ”€â”€ TaskScheduler.ts       # ä»»åŠ¡è°ƒåº¦å™¨ âœ¨NEW
â”‚   â”œâ”€â”€ StateManager.ts        # çŠ¶æ€ç®¡ç†å™¨ âœ¨NEW
â”‚   â””â”€â”€ index.ts               # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ model-adapter/             # æ¨¡å‹é€‚é…å™¨
â”‚   â”œâ”€â”€ types.ts               # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ ZhipuAdapter.ts        # æ™ºè°±GLMé€‚é…å™¨
â”‚   â”œâ”€â”€ ModelAdapterFactory.ts # é€‚é…å™¨å·¥å‚
â”‚   â”œâ”€â”€ ModelRouter.ts         # æ¨¡å‹è·¯ç”±å™¨ âœ¨NEW
â”‚   â””â”€â”€ index.ts               # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ tool-orchestrator/         # å·¥å…·ç¼–æ’ âœ¨NEW
â”‚   â”œâ”€â”€ ToolOrchestrator.ts    # å·¥å…·ç¼–æ’å¼•æ“
â”‚   â””â”€â”€ index.ts               # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ advanced-drag/             # é«˜çº§æ‹–æ‹½ âœ¨NEW
â”‚   â”œâ”€â”€ AdvancedDragSystem.ts  # é«˜çº§æ‹–æ‹½ç³»ç»Ÿ
â”‚   â””â”€â”€ index.ts               # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ goal-management/           # ç›®æ ‡ç®¡ç† âœ¨NEW
â”‚   â”œâ”€â”€ GoalManagementSystem.ts # ç›®æ ‡ç®¡ç†ç³»ç»Ÿ
â”‚   â””â”€â”€ index.ts               # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ maturity-model/            # æˆç†Ÿåº¦æ¨¡å‹ âœ¨NEW
â”‚   â”œâ”€â”€ TechnicalMaturityModel.ts # æŠ€æœ¯æˆç†Ÿåº¦æ¨¡å‹
â”‚   â””â”€â”€ index.ts               # æ¨¡å—å¯¼å‡º
components/
â””â”€â”€ ai-floating-widget/        # AIæµ®çª—ç»„ä»¶
    â”œâ”€â”€ IntelligentAIWidget.tsx    # ä¸»ç»„ä»¶
    â”œâ”€â”€ AIWidgetProvider.tsx       # å…¨å±€Provider
    â””â”€â”€ index.ts                   # æ¨¡å—å¯¼å‡º
```

### æ•°æ®æµ

```
ç”¨æˆ·è¾“å…¥ â†’ AgenticCore
    â†“
æ„å›¾è¯†åˆ« â†’ ä»»åŠ¡åˆ›å»º
    â†“
æ™ºèƒ½è§„åˆ’ â†’ ç”Ÿæˆå­ä»»åŠ¡
    â†“
ä»»åŠ¡æ‰§è¡Œ â†’ è°ƒç”¨æ¨¡å‹/å·¥å…·
    â†“
ç»“æœåæ€ â†’ è´¨é‡è¯„ä¼°
    â†“
æŒç»­å­¦ä¹  â†’ ç»éªŒç§¯ç´¯
    â†“
å“åº”ç”Ÿæˆ â†’ è¿”å›ç”¨æˆ·
```

## ğŸ”§ é…ç½®é€‰é¡¹

### AgentConfig é…ç½®è¯¦è§£

```typescript
interface AgentConfig {
  // åŸºç¡€é…ç½®
  agentId: string;        // å”¯ä¸€æ ‡è¯†
  name: string;           // åŠ©æ‰‹åç§°
  
  // ç›®æ ‡é…ç½®
  goalConfig: {
    maxGoalDepth: number;           // æœ€å¤§ç›®æ ‡å±‚çº§ (æ¨è: 5)
    goalTimeout: number;            // ç›®æ ‡è¶…æ—¶æ—¶é—´ms (æ¨è: 30000)
    priorityWeights: {              // ä¼˜å…ˆçº§æƒé‡
      urgency: number;              // ç´§æ€¥åº¦ (0-1)
      importance: number;           // é‡è¦åº¦ (0-1)
      complexity: number;           // å¤æ‚åº¦ (0-1)
    };
  };
  
  // è§„åˆ’é…ç½®
  planningConfig: {
    maxPlanSteps: number;           // æœ€å¤§è§„åˆ’æ­¥éª¤ (æ¨è: 10)
    planningStrategy: 'bfs' | 'dfs' | 'astar';  // è§„åˆ’ç­–ç•¥
    replanningThreshold: number;    // é‡æ–°è§„åˆ’é˜ˆå€¼ (0-1)
  };
  
  // å·¥å…·é…ç½®
  toolConfig: {
    enabledTools: string[];         // å¯ç”¨çš„å·¥å…·åˆ—è¡¨
    toolTimeout: number;            // å·¥å…·è¶…æ—¶æ—¶é—´ms
    maxConcurrentTools: number;     // æœ€å¤§å¹¶å‘å·¥å…·æ•°
  };
  
  // åæ€é…ç½®
  reflectionConfig: {
    enableReflection: boolean;      // æ˜¯å¦å¯ç”¨åæ€
    reflectionInterval: number;     // åæ€é—´éš”ms
    learningRate: number;           // å­¦ä¹ ç‡ (0-1)
  };
  
  // çŸ¥è¯†åº“é…ç½®
  knowledgeConfig: {
    enableKnowledgeBase: boolean;   // æ˜¯å¦å¯ç”¨çŸ¥è¯†åº“
    vectorDbUrl?: string;           // å‘é‡æ•°æ®åº“URL
    embeddingModel?: string;        // åµŒå…¥æ¨¡å‹
  };
  
  // ä¸Šä¸‹æ–‡é…ç½®
  contextConfig: {
    maxHistoryLength: number;       // æœ€å¤§å†å²é•¿åº¦
    contextWindow: number;          // ä¸Šä¸‹æ–‡çª—å£å¤§å°
    persistContext: boolean;        // æ˜¯å¦æŒä¹…åŒ–ä¸Šä¸‹æ–‡
  };
  
  // å­¦ä¹ é…ç½®
  learningConfig: {
    enableLearning: boolean;        // æ˜¯å¦å¯ç”¨å­¦ä¹ 
    learningStrategy: 'online' | 'offline' | 'hybrid';
    feedbackThreshold: number;      // åé¦ˆé˜ˆå€¼ (0-1)
  };
}
```

## ğŸ“Š ç³»ç»ŸæŒ‡æ ‡

AgenticCoreæä¾›å®æ—¶è¿è¡ŒæŒ‡æ ‡ï¼š

```typescript
const metrics = agenticCore.getMetrics();
console.log(metrics);
// {
//   totalTasks: 100,
//   completedTasks: 95,
//   failedTasks: 5,
//   averageDuration: 1234 // ms
// }
```

## ğŸ¯ äº‹ä»¶ç›‘å¬

AgenticCoreåŸºäºEventEmitterï¼Œæ”¯æŒä¸°å¯Œçš„äº‹ä»¶ç›‘å¬ï¼š

```typescript
// ä»»åŠ¡åˆ›å»º
agenticCore.on('task:created', (task) => {
  console.log('ä»»åŠ¡å·²åˆ›å»º:', task.id);
});

// ä»»åŠ¡å®Œæˆ
agenticCore.on('task:completed', (task) => {
  console.log('ä»»åŠ¡å·²å®Œæˆ:', task.id);
});

// ä»»åŠ¡å¤±è´¥
agenticCore.on('task:failed', (task, error) => {
  console.error('ä»»åŠ¡å¤±è´¥:', task.id, error);
});

// çŠ¶æ€å˜æ›´
agenticCore.on('state:changed', (oldState, newState) => {
  console.log(`çŠ¶æ€å˜æ›´: ${oldState} -> ${newState}`);
});

// åæ€å®Œæˆ
agenticCore.on('reflection:completed', ({ task, performance }) => {
  console.log('åæ€å®Œæˆ:', performance);
});

// å­¦ä¹ å®Œæˆ
agenticCore.on('learning:completed', (learningData) => {
  console.log('å­¦ä¹ å®Œæˆ:', learningData);
});
```

## ğŸ” å®‰å…¨æ³¨æ„äº‹é¡¹

1. **APIå¯†é’¥ä¿æŠ¤**:
   - ä¸è¦åœ¨å®¢æˆ·ç«¯ç›´æ¥æš´éœ²APIå¯†é’¥
   - ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯
   - è€ƒè™‘ä½¿ç”¨ä»£ç†æœåŠ¡å™¨è½¬å‘è¯·æ±‚

2. **ç”¨æˆ·æƒé™æ§åˆ¶**:
   - åœ¨AgentContextä¸­è®¾ç½®permissions
   - å·¥å…·è°ƒç”¨å‰éªŒè¯ç”¨æˆ·æƒé™
   - é™åˆ¶æ•æ„Ÿæ“ä½œçš„è®¿é—®

3. **é€Ÿç‡é™åˆ¶**:
   - å®æ–½è¯·æ±‚é¢‘ç‡é™åˆ¶
   - ç›‘æ§APIä½¿ç”¨é‡
   - è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´

## ğŸ“š æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„æ¨¡å‹é€‚é…å™¨

1. åˆ›å»ºé€‚é…å™¨ç±»å®ç° `IModelAdapter` æ¥å£ï¼š

```typescript
import { IModelAdapter, ModelConfig, ChatRequest, ChatResponse } from './types';

export class CustomAdapter implements IModelAdapter {
  provider = ModelProvider.CUSTOM;
  config: ModelConfig;

  constructor(config: ModelConfig) {
    this.config = config;
  }

  async chat(request: ChatRequest): Promise<ChatResponse> {
    // å®ç°èŠå¤©é€»è¾‘
  }

  async chatStream(request: ChatRequest, callback: StreamCallback): Promise<void> {
    // å®ç°æµå¼èŠå¤©é€»è¾‘
  }

  async getModelInfo(): Promise<ModelInfo> {
    // è¿”å›æ¨¡å‹ä¿¡æ¯
  }

  validateConfig(): boolean {
    // éªŒè¯é…ç½®
  }

  estimateTokens(text: string): number {
    // ä¼°ç®—tokens
  }
}
```

2. åœ¨ `ModelAdapterFactory` ä¸­æ³¨å†Œï¼š

```typescript
// lib/model-adapter/ModelAdapterFactory.ts
case ModelProvider.CUSTOM:
  adapter = new CustomAdapter(config);
  break;
```

### æ·»åŠ è‡ªå®šä¹‰å·¥å…·

```typescript
// åœ¨AgenticCoreä¸­æ³¨å†Œå·¥å…·
agenticCore.on('tool:register', (toolName, toolFunction) => {
  // å®ç°å·¥å…·æ³¨å†Œé€»è¾‘
});
```

## ğŸ“š é«˜çº§åŠŸèƒ½ API æ–‡æ¡£

### 1. æ¶ˆæ¯æ€»çº¿ç³»ç»Ÿ (MessageBus)

**æ ¸å¿ƒèƒ½åŠ›**ï¼šäº‹ä»¶é©±åŠ¨é€šä¿¡ã€ä¼˜å…ˆçº§é˜Ÿåˆ—ã€é‡è¯•æœºåˆ¶

```typescript
import { AgenticCore, MessageBus } from '@/lib/agentic-core';

// è·å–æ¶ˆæ¯æ€»çº¿å®ä¾‹
const core = new AgenticCore(config);
const messageBus = core.getMessageBus();

// å‘å¸ƒæ¶ˆæ¯
await messageBus.publish({
  type: 'goal:created',
  priority: 5,
  payload: { goalId: 'goal-123', name: 'æ•°æ®åˆ†æ' },
  persistent: true
});

// è®¢é˜…æ¶ˆæ¯
const unsubscribe = messageBus.subscribe(
  'goal:created', 
  async (message) => {
    console.log('æ”¶åˆ°æ–°ç›®æ ‡:', message.payload);
  },
  { priority: 3 }
);

// å–æ¶ˆè®¢é˜…
unsubscribe();
```

**é…ç½®é€‰é¡¹**ï¼š

- `maxQueueSize`: é˜Ÿåˆ—æœ€å¤§é•¿åº¦ï¼ˆé»˜è®¤1000ï¼‰
- `maxRetries`: æœ€å¤§é‡è¯•æ¬¡æ•°ï¼ˆé»˜è®¤3ï¼‰
- `backoffMultiplier`: é€€é¿ä¹˜æ•°ï¼ˆé»˜è®¤2ï¼‰

### 2. ä»»åŠ¡è°ƒåº¦å™¨ (TaskScheduler)

**æ ¸å¿ƒèƒ½åŠ›**ï¼šä¼˜å…ˆçº§è°ƒåº¦ã€å¹¶å‘æ§åˆ¶ã€ä¾èµ–è§£æ

```typescript
import { TaskScheduler } from '@/lib/agentic-core';

// è·å–ä»»åŠ¡è°ƒåº¦å™¨
const scheduler = core.getTaskScheduler();

// è°ƒåº¦ä»»åŠ¡
const taskId = await scheduler.schedule({
  name: 'æ•°æ®æŠ“å–',
  priority: 4, // 1-5ï¼Œ5æœ€é«˜
  execute: async () => {
    const data = await fetchData();
    return data;
  },
  timeout: 30000,
  dependencies: ['task-abc'] // å¯é€‰ï¼šä¾èµ–ä»»åŠ¡ID
});

// ç­‰å¾…ä»»åŠ¡å®Œæˆ
const result = await scheduler.waitForTask(taskId);

// å–æ¶ˆä»»åŠ¡
await scheduler.cancelTask(taskId);

// æ‰¹é‡ç­‰å¾…
await scheduler.waitAll(['task-1', 'task-2', 'task-3']);
```

**é…ç½®é€‰é¡¹**ï¼š

- `maxConcurrent`: æœ€å¤§å¹¶å‘æ•°ï¼ˆé»˜è®¤10ï¼‰
- `defaultTimeout`: é»˜è®¤è¶…æ—¶ï¼ˆé»˜è®¤60ç§’ï¼‰

### 3. çŠ¶æ€ç®¡ç†å™¨ (StateManager)

**æ ¸å¿ƒèƒ½åŠ›**ï¼šçŠ¶æ€å¿«ç…§ã€æ’¤é”€/é‡åšã€è‡ªåŠ¨æŒä¹…åŒ–

```typescript
import { StateManager } from '@/lib/agentic-core';

// è·å–çŠ¶æ€ç®¡ç†å™¨
const stateManager = core.getStateManager();

// è®¾ç½®çŠ¶æ€
await stateManager.setState('user.preferences', {
  theme: 'dark',
  language: 'zh-CN'
});

// è·å–çŠ¶æ€
const prefs = stateManager.getState('user.preferences');

// åˆ›å»ºå¿«ç…§
const snapshotId = await stateManager.createSnapshot('ç”¨æˆ·é…ç½®æ›´æ–°');

// æ¢å¤å¿«ç…§
await stateManager.restoreSnapshot(snapshotId);

// æ’¤é”€/é‡åš
await stateManager.undo(); // æ’¤é”€ä¸Šä¸€æ¬¡æ“ä½œ
await stateManager.redo(); // é‡åš

// è®¡æ•°å™¨æ“ä½œ
await stateManager.incrementCounter('api.requests', 1);
const count = stateManager.getCounter('api.requests');
```

**é…ç½®é€‰é¡¹**ï¼š

- `maxSnapshots`: æœ€å¤§å¿«ç…§æ•°ï¼ˆé»˜è®¤100ï¼‰
- `autoSaveInterval`: è‡ªåŠ¨ä¿å­˜é—´éš”ï¼ˆé»˜è®¤60ç§’ï¼‰
- `persistenceKey`: æœ¬åœ°å­˜å‚¨é”®ï¼ˆé»˜è®¤'state-manager'ï¼‰

### 4. å·¥å…·ç¼–æ’å¼•æ“ (ToolOrchestrator)

**æ ¸å¿ƒèƒ½åŠ›**ï¼šå·¥å…·æ³¨å†Œã€å‚æ•°éªŒè¯ã€ä¾èµ–è§£æã€å¹¶å‘æ‰§è¡Œ

```typescript
import { ToolOrchestrator } from '@/lib/tool-orchestrator';

const orchestrator = new ToolOrchestrator();

// æ³¨å†Œå·¥å…·
orchestrator.registerTool({
  name: 'weather',
  description: 'æŸ¥è¯¢å¤©æ°”ä¿¡æ¯',
  parameters: {
    type: 'object',
    properties: {
      city: { type: 'string', description: 'åŸå¸‚åç§°' }
    },
    required: ['city']
  },
  execute: async (params: { city: string }) => {
    const weather = await fetchWeather(params.city);
    return { temperature: weather.temp, condition: weather.desc };
  }
});

// æ‰§è¡Œå•ä¸ªå·¥å…·
const result = await orchestrator.executeTool('weather', { city: 'åŒ—äº¬' });

// ç¼–æ’å¤šä¸ªå·¥å…·ï¼ˆè‡ªåŠ¨è§£æä¾èµ–ï¼‰
const results = await orchestrator.orchestrate([
  { toolName: 'weather', params: { city: 'åŒ—äº¬' } },
  { toolName: 'translate', params: { text: '${weather.condition}' }, dependencies: ['weather'] }
]);

// æœç´¢å·¥å…·
const tools = await orchestrator.searchTools('å¤©æ°”');

// ç»Ÿè®¡ä¿¡æ¯
const stats = orchestrator.getToolStats('weather');
console.log(`æ‰§è¡Œ${stats.executionCount}æ¬¡ï¼ŒæˆåŠŸ${stats.successCount}æ¬¡`);
```

### 5. æ¨¡å‹è·¯ç”±å™¨ (ModelRouter)

**æ ¸å¿ƒèƒ½åŠ›**ï¼šæ™ºèƒ½æ¨¡å‹é€‰æ‹©ã€æˆæœ¬ä¼˜åŒ–ã€è‡ªåŠ¨æ•…éšœè½¬ç§»

```typescript
import { ModelRouter } from '@/lib/model-adapter';

const router = new ModelRouter({
  weights: {
    performance: 0.3,  // æ€§èƒ½æƒé‡30%
    cost: 0.2,         // æˆæœ¬æƒé‡20%
    quality: 0.3,      // è´¨é‡æƒé‡30%
    latency: 0.15,     // å»¶è¿Ÿæƒé‡15%
    availability: 0.05 // å¯ç”¨æ€§æƒé‡5%
  }
});

// æ³¨å†Œæ¨¡å‹é€‚é…å™¨
router.registerAdapter(zhipuAdapter);
router.registerAdapter(alibabaAdapter);

// æ™ºèƒ½è·¯ç”±
const result = await router.route({
  prompt: 'è¯·è§£é‡Šé‡å­è®¡ç®—åŸç†',
  requirements: {
    minQuality: 0.8,      // æœ€ä½è´¨é‡è¦æ±‚
    maxCost: 0.05,        // æœ€é«˜æˆæœ¬é™åˆ¶
    maxLatency: 5000,     // æœ€å¤§å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰
    preferredModels: ['glm-4-flash'],
    excludedModels: ['gpt-3.5']
  }
});

console.log(`ä½¿ç”¨æ¨¡å‹: ${result.modelUsed}`);
console.log(`å“åº”å†…å®¹: ${result.response}`);
console.log(`èŠ±è´¹: $${result.cost.toFixed(4)}`);

// æŸ¥è¯¢æˆæœ¬ç»Ÿè®¡
const metrics = router.getMetrics();
console.log(`æ€»è¯·æ±‚: ${metrics.totalRequests}`);
console.log(`æ€»æˆæœ¬: $${metrics.totalCost.toFixed(2)}`);
console.log(`å¹³å‡å»¶è¿Ÿ: ${metrics.averageLatency}ms`);
```

**è¯„åˆ†è§„åˆ™**ï¼š

- æ€§èƒ½å¾—åˆ†ï¼šåŸºäºæ¨¡å‹benchmarkåˆ†æ•°
- æˆæœ¬å¾—åˆ†ï¼š1 - (å®é™…æˆæœ¬/æœ€é«˜æˆæœ¬)
- è´¨é‡å¾—åˆ†ï¼šå†å²æ‰§è¡Œè´¨é‡è¯„ä¼°
- å»¶è¿Ÿå¾—åˆ†ï¼š1 - (å®é™…å»¶è¿Ÿ/æœ€å¤§å»¶è¿Ÿ)
- å¯ç”¨æ€§å¾—åˆ†ï¼šå½“å‰å¯ç”¨æ€§çŠ¶æ€

### 6. é«˜çº§æ‹–æ‹½ç³»ç»Ÿ (AdvancedDragSystem)

**æ ¸å¿ƒèƒ½åŠ›**ï¼šæƒ¯æ€§æ¨¡æ‹Ÿã€ç£æ€§å¸é™„ã€ç¢°æ’æ£€æµ‹ã€å¤šæŒ‡è§¦æ§

```typescript
import { AdvancedDragSystem } from '@/lib/advanced-drag';

const dragSystem = new AdvancedDragSystem({
  friction: 0.95,          // æ‘©æ“¦ç³»æ•°ï¼ˆ0-1ï¼‰
  snapThreshold: 20,       // ç£æ€§å¸é™„é˜ˆå€¼ï¼ˆåƒç´ ï¼‰
  enableInertia: true,     // å¯ç”¨æƒ¯æ€§
  enableSnap: true,        // å¯ç”¨å¸é™„
  enableCollision: true,   // å¯ç”¨ç¢°æ’æ£€æµ‹
  bounds: {                // è¾¹ç•Œçº¦æŸ
    left: 0,
    top: 0,
    right: window.innerWidth,
    bottom: window.innerHeight
  },
  snapPoints: [            // å¸é™„ç‚¹
    { x: window.innerWidth / 2, y: 50 },      // é¡¶éƒ¨ä¸­å¿ƒ
    { x: window.innerWidth - 100, y: 100 }    // å³ä¸Šè§’
  ],
  gridSize: 10             // ç½‘æ ¼å¯¹é½å¤§å°
});

// åˆå§‹åŒ–æ‹–æ‹½
const elementRef = useRef<HTMLDivElement>(null);
useEffect(() => {
  if (elementRef.current) {
    dragSystem.init(elementRef.current);
  }
  return () => dragSystem.destroy();
}, []);

// ç›‘å¬æ‹–æ‹½äº‹ä»¶
dragSystem.on('dragStart', (state) => {
  console.log('å¼€å§‹æ‹–æ‹½', state.position);
});

dragSystem.on('dragMove', (state) => {
  console.log('æ‹–æ‹½ä¸­', state.velocity);
});

dragSystem.on('dragEnd', (state) => {
  console.log('ç»“æŸæ‹–æ‹½', state.position);
  // ä¿å­˜ä½ç½®
  localStorage.setItem('widget-position', JSON.stringify(state.position));
});

dragSystem.on('snap', (point) => {
  console.log('å¸é™„åˆ°', point);
});
```

**ç‰©ç†æ¨¡æ‹Ÿ**ï¼š

- æƒ¯æ€§é€Ÿåº¦ï¼šæ ¹æ®æ‹–æ‹½é€Ÿåº¦è®¡ç®—åˆå§‹é€Ÿåº¦
- æ‘©æ“¦è¡°å‡ï¼šæ¯å¸§é€Ÿåº¦ä¹˜ä»¥æ‘©æ“¦ç³»æ•°ï¼ˆ0.95ï¼‰
- ç£æ€§å¸é™„ï¼šè·ç¦»å¸é™„ç‚¹<20pxæ—¶è‡ªåŠ¨å¸é™„
- ç¢°æ’æ£€æµ‹ï¼šè‡ªåŠ¨é¿å…ä¸å…¶ä»–å…ƒç´ é‡å 

### 7. ç›®æ ‡ç®¡ç†ç³»ç»Ÿ (GoalManagementSystem)

**æ ¸å¿ƒèƒ½åŠ›**ï¼šå®Œæ•´çš„ç›®æ ‡ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œæ”¯æŒSMARTéªŒè¯ã€OKRæ¡†æ¶ã€è¿›åº¦è¿½è¸ª

```typescript
import { GoalManagementSystem } from '@/lib/goal-management';

const goalSystem = new GoalManagementSystem({
  enableAutoAdjustment: true,
  riskThreshold: 0.7,
  enableCollaboration: true,
});

// åˆ›å»ºå¹¶ç®¡ç†ç›®æ ‡
const lifecycle = await goalSystem.manageGoalLifecycle({
  title: 'æå‡ç³»ç»Ÿæ€§èƒ½',
  description: 'ä¼˜åŒ–æ ¸å¿ƒæ¨¡å—ï¼Œå‡å°‘å“åº”æ—¶é—´50%',
  category: 'technical',
  priority: 5,
  deadline: new Date('2025-03-31'),
  owner: 'tech-team',
  kpis: [
    { name: 'å“åº”æ—¶é—´', target: 200, current: 400, unit: 'ms' }
  ]
});

// æŸ¥çœ‹æ‰§è¡Œç»“æœ
console.log('ç›®æ ‡åˆ›å»º:', lifecycle.creation);
console.log('æ‰§è¡Œè®¡åˆ’:', lifecycle.planning.plan);
console.log('ä»·å€¼è¯„ä¼°:', lifecycle.evaluation.valueDelivered);

// è·å–ç»Ÿè®¡ä¿¡æ¯
const stats = goalSystem.getStats();
console.log(`å®Œæˆç‡: ${(stats.successRate * 100).toFixed(1)}%`);
```

**8ä¸ªç”Ÿå‘½å‘¨æœŸé˜¶æ®µ**ï¼šåˆ›å»ºâ†’è§„åˆ’â†’æ‰§è¡Œâ†’ç›‘æ§â†’è°ƒæ•´â†’å®Œæˆâ†’è¯„ä¼°â†’å­¦ä¹ 

### 8. æŠ€æœ¯æˆç†Ÿåº¦æ¨¡å‹ (TechnicalMaturityModel)

**æ ¸å¿ƒèƒ½åŠ›**ï¼šäº”çº§æˆç†Ÿåº¦è¯„ä¼°ã€8ç»´åº¦è¯„åˆ†ã€æ”¹è¿›è·¯çº¿å›¾

```typescript
import { TechnicalMaturityModel, MaturityLevel } from '@/lib/maturity-model';

const maturityModel = new TechnicalMaturityModel({
  targetLevel: MaturityLevel.MANAGED
});

// æ‰§è¡Œè¯„ä¼°
const assessment = await maturityModel.assessMaturity();

console.log('æˆç†Ÿåº¦ç­‰çº§:', MaturityLevel[assessment.maturityLevel]);
console.log('æ€»ä½“è¯„åˆ†:', assessment.overallScore, '/100');

// æŸ¥çœ‹æ”¹è¿›è·¯çº¿å›¾
assessment.roadmap.phases.forEach(phase => {
  console.log(`${phase.name}: ${phase.duration}å¤©`);
  console.log('  ç›®æ ‡:', phase.objectives);
});

// è¡Œä¸šå¯¹æ¯”
console.log('è¡Œä¸šä½ç½®:', assessment.benchmarking.position);
console.log('ç™¾åˆ†ä½:', assessment.benchmarking.percentile);

// å¯¼å‡ºæŠ¥å‘Š
const report = maturityModel.exportReport('markdown');
```

**äº”çº§æˆç†Ÿåº¦**: Initial (1) â†’ Repeatable (2) â†’ Defined (3) â†’ Managed (4) â†’ Optimizing (5)

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# è¿è¡Œç‰¹å®šæµ‹è¯•
pnpm test -- AgenticCore

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm test:coverage
```

## ğŸ“– æŠ€æœ¯æ–‡æ¡£

è¯¦ç»†çš„è®¾è®¡æ–‡æ¡£ä½äº `docs/AIæ™ºèƒ½æµ®çª—ç³»ç»Ÿ/` ç›®å½•ï¼š

- [00-æ™ºèƒ½æ’æ‹”å¼ç§»åŠ¨AIç³»ç»Ÿè®¾è®¡.md](../docs/AIæ™ºèƒ½æµ®çª—ç³»ç»Ÿ/00-æ™ºèƒ½æ’æ‹”å¼ç§»åŠ¨AIç³»ç»Ÿè®¾è®¡.md) - æ€»ä½“è®¾è®¡
- [01-å¯æ’æ‹”å¼æ‹–æ‹½ç§»åŠ¨AIç³»ç»Ÿ.md](../docs/AIæ™ºèƒ½æµ®çª—ç³»ç»Ÿ/01-å¯æ’æ‹”å¼æ‹–æ‹½ç§»åŠ¨AIç³»ç»Ÿ.md) - UIäº¤äº’è®¾è®¡
- [02-æ™ºèƒ½æ’æ‹”å¼å¯ç§»åŠ¨AIæ‰§è¡Œæ–¹æ¡ˆ.md](../docs/AIæ™ºèƒ½æµ®çª—ç³»ç»Ÿ/02-æ™ºèƒ½æ’æ‹”å¼å¯ç§»åŠ¨AIæ‰§è¡Œæ–¹æ¡ˆ.md) - æ‰§è¡Œæ¶æ„
- [03-AIåŠŸèƒ½ç»„ä»¶æ·±åº¦è®¾è®¡.md](../docs/AIæ™ºèƒ½æµ®çª—ç³»ç»Ÿ/03-AIåŠŸèƒ½ç»„ä»¶æ·±åº¦è®¾è®¡.md) - åŠŸèƒ½ç»„ä»¶

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](../LICENSE) æ–‡ä»¶

## ğŸ‘¥ å›¢é˜Ÿ

YYCÂ³ å¼€å‘å›¢é˜Ÿ

- é‚®ç®±: <admin@0379.email>
- ç½‘ç«™: <https://github.com/your-org/yyc3-mana>

---

**Â© 2025 YYCÂ³ - ä¼ä¸šçº§æ™ºèƒ½AIè§£å†³æ–¹æ¡ˆ**
